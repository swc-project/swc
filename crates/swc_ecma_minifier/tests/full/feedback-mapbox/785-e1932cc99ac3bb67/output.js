(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{840:function(a,b,c){var d;!function(g,B,Q,l){"use strict";var m,R=["","webkit","Moz","MS","ms","o"],C=B.createElement("div"),S=Math.round,T=Math.abs,U=Date.now;function V(a,b,c){return setTimeout(G(a,c),b)}function W(a,c,b){return!!Array.isArray(a)&&(D(a,b[c],b),!0)}function D(a,c,d){var b;if(a){if(a.forEach)a.forEach(c,d);else if(l!==a.length)for(b=0;b<a.length;)c.call(d,a[b],b,a),b++;else for(b in a)a.hasOwnProperty(b)&&c.call(d,a[b],b,a)}}function t(c,a,b){var d="DEPRECATED METHOD: "+a+"\n"+b+" AT \n";return function(){var a=new Error("get-stack-trace"),e=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=g.console&&(g.console.warn||g.console.log);return b&&b.call(g.console,d,e),c.apply(this,arguments)}}m="function"!=typeof Object.assign?function(b){if(b===l||null===b)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(b),c=1;c<arguments.length;c++){var a=arguments[c];if(a!==l&&null!==a)for(var d in a)a.hasOwnProperty(d)&&(e[d]=a[d])}return e}:Object.assign;var E=t(function(c,d,e){for(var b=Object.keys(d),a=0;a<b.length;)(!e||e&&l===c[b[a]])&&(c[b[a]]=d[b[a]]),a++;return c},"extend","Use `assign`."),F=t(function(a,b){return E(a,b,!0)},"merge","Use `assign`.");function e(b,e,c){var a,d=e.prototype;(a=b.prototype=Object.create(d)).constructor=b,a._super=d,c&&m(a,c)}function G(a,b){return function(){return a.apply(b,arguments)}}function X(a,b){return"function"==typeof a?a.apply(b&&b[0]||l,b):a}function Y(a,b){return a===l?b:a}function H(b,a,c){D(_(a),function(a){b.addEventListener(a,c,!1)})}function I(b,a,c){D(_(a),function(a){b.removeEventListener(a,c,!1)})}function Z(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function $(a,b){return a.indexOf(b)> -1}function _(a){return a.trim().split(/\s+/g)}function aa(a,d,c){if(a.indexOf&&!c)return a.indexOf(d);for(var b=0;b<a.length;){if(c&&a[b][c]==d|| !c&&a[b]===d)return b;b++}return -1}function ab(a){return Array.prototype.slice.call(a,0)}function ac(c,d,g){for(var b=[],e=[],a=0;a<c.length;){var f=d?c[a][d]:c[a];0>aa(e,f)&&b.push(c[a]),e[a]=f,a++}return g&&(b=d?b.sort(function(a,b){return a[d]>b[d]}):b.sort()),b}function n(e,a){for(var c,d,f=a[0].toUpperCase()+a.slice(1),b=0;b<R.length;){if((d=(c=R[b])?c+f:a)in e)return d;b++}}var ad=1;function ae(a){var b=a.ownerDocument||a;return b.defaultView||b.parentWindow||g}var J="ontouchstart"in g,af=l!==n(g,"PointerEvent"),ag=J&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),K="touch",L="mouse",ah=["x","y"],ai=["clientX","clientY"];function f(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){X(a.options.enable,[a])&&c.handler(b)},this.init()}function aj(b,c,a){var d=a.pointers.length,e=a.changedPointers.length,f=1&c&&d-e==0;a.isFirst=!!f,a.isFinal=!!(12&c&&d-e==0),f&&(b.session={}),a.eventType=c,ak(b,a),b.emit("hammer.input",a),b.recognize(a),b.session.prevInput=a}function ak(g,a){var b=g.session,e=a.pointers,h=e.length;b.firstInput||(b.firstInput=an(a)),h>1&&!b.firstMultiple?b.firstMultiple=an(a):1===h&&(b.firstMultiple=!1);var i=b.firstInput,c=b.firstMultiple,j=c?c.center:i.center,k=a.center=ao(e);a.timeStamp=U(),a.deltaTime=a.timeStamp-i.timeStamp,a.angle=as(j,k),a.distance=ar(j,k),al(b,a),a.offsetDirection=aq(a.deltaX,a.deltaY);var d=ap(a.deltaTime,a.deltaX,a.deltaY);a.overallVelocityX=d.x,a.overallVelocityY=d.y,a.overallVelocity=T(d.x)>T(d.y)?d.x:d.y,a.scale=c?au(c.pointers,e):1,a.rotation=c?at(c.pointers,e):0,a.maxPointers=b.prevInput?a.pointers.length>b.prevInput.maxPointers?a.pointers.length:b.prevInput.maxPointers:a.pointers.length,am(b,a);var f=g.element;Z(a.srcEvent.target,f)&&(f=a.srcEvent.target),a.target=f}function al(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(1===b.eventType||4===f.eventType)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function am(h,a){var d,e,f,g,b=h.lastInterval||a,i=a.timeStamp-b.timeStamp;if(8!=a.eventType&&(i>25||l===b.velocity)){var j=a.deltaX-b.deltaX,k=a.deltaY-b.deltaY,c=ap(i,j,k);e=c.x,f=c.y,d=T(c.x)>T(c.y)?c.x:c.y,g=aq(j,k),h.lastInterval=a}else d=b.velocity,e=b.velocityX,f=b.velocityY,g=b.direction;a.velocity=d,a.velocityX=e,a.velocityY=f,a.direction=g}function an(a){for(var c=[],b=0;b<a.pointers.length;)c[b]={clientX:S(a.pointers[b].clientX),clientY:S(a.pointers[b].clientY)},b++;return{timeStamp:U(),pointers:c,center:ao(c),deltaX:a.deltaX,deltaY:a.deltaY}}function ao(a){var b=a.length;if(1===b)return{x:S(a[0].clientX),y:S(a[0].clientY)};for(var d=0,e=0,c=0;c<b;)d+=a[c].clientX,e+=a[c].clientY,c++;return{x:S(d/b),y:S(e/b)}}function ap(a,b,c){return{x:b/a||0,y:c/a||0}}function aq(a,b){return a===b?1:T(a)>=T(b)?a<0?2:4:b<0?8:16}function ar(b,c,a){a||(a=ah);var d=c[a[0]]-b[a[0]],e=c[a[1]]-b[a[1]];return Math.sqrt(d*d+e*e)}function as(b,c,a){a||(a=ah);var d=c[a[0]]-b[a[0]],e=c[a[1]]-b[a[1]];return 180*Math.atan2(e,d)/Math.PI}function at(a,b){return as(b[1],b[0],ai)+as(a[1],a[0],ai)}function au(a,b){return ar(b[0],b[1],ai)/ar(a[0],a[1],ai)}f.prototype={handler:function(){},init:function(){this.evEl&&H(this.element,this.evEl,this.domHandler),this.evTarget&&H(this.target,this.evTarget,this.domHandler),this.evWin&&H(ae(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(ae(this.element),this.evWin,this.domHandler)}};var av={mousedown:1,mousemove:2,mouseup:4};function u(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,f.apply(this,arguments)}e(u,f,{handler:function(a){var b=av[a.type];1&b&&0===a.button&&(this.pressed=!0),2&b&&1!==a.which&&(b=4),this.pressed&&(4&b&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:L,srcEvent:a}))}});var aw={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ax={2:K,3:"pen",4:L,5:"kinect"},M="pointerdown",N="pointermove pointerup pointercancel";function v(){this.evEl=M,this.evWin=N,f.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}g.MSPointerEvent&&!g.PointerEvent&&(M="MSPointerDown",N="MSPointerMove MSPointerUp MSPointerCancel"),e(v,f,{handler:function(a){var b=this.store,e=!1,d=aw[a.type.toLowerCase().replace("ms","")],f=ax[a.pointerType]||a.pointerType,c=aa(b,a.pointerId,"pointerId");1&d&&(0===a.button||f==K)?c<0&&(b.push(a),c=b.length-1):12&d&&(e=!0),!(c<0)&&(b[c]=a,this.callback(this.manager,d,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),e&&b.splice(c,1))}});var ay={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function w(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,f.apply(this,arguments)}function az(b,d){var a=ab(b.touches),c=ab(b.changedTouches);return 12&d&&(a=ac(a.concat(c),"identifier",!0)),[a,c]}e(w,f,{handler:function(c){var a=ay[c.type];if(1===a&&(this.started=!0),this.started){var b=az.call(this,c,a);12&a&&b[0].length-b[1].length==0&&(this.started=!1),this.callback(this.manager,a,{pointers:b[0],changedPointers:b[1],pointerType:K,srcEvent:c})}}});var aA={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function x(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},f.apply(this,arguments)}function aB(h,g){var b=ab(h.touches),c=this.targetIds;if(3&g&&1===b.length)return c[b[0].identifier]=!0,[b,b];var a,d,e=ab(h.changedTouches),f=[],i=this.target;if(d=b.filter(function(a){return Z(a.target,i)}),1===g)for(a=0;a<d.length;)c[d[a].identifier]=!0,a++;for(a=0;a<e.length;)c[e[a].identifier]&&f.push(e[a]),12&g&&delete c[e[a].identifier],a++;if(f.length)return[ac(d.concat(f),"identifier",!0),f]}function y(){f.apply(this,arguments);var a=G(this.handler,this);this.touch=new x(this.manager,a),this.mouse=new u(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function aC(b,a){1&b?(this.primaryTouch=a.changedPointers[0].identifier,aD.call(this,a)):12&b&&aD.call(this,a)}function aD(b){var a=b.changedPointers[0];if(a.identifier===this.primaryTouch){var c={x:a.clientX,y:a.clientY};this.lastTouches.push(c);var d=this.lastTouches;setTimeout(function(){var a=d.indexOf(c);a> -1&&d.splice(a,1)},2500)}}function aE(b){for(var d=b.srcEvent.clientX,e=b.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var c=this.lastTouches[a],f=Math.abs(d-c.x),g=Math.abs(e-c.y);if(f<=25&&g<=25)return!0}return!1}e(x,f,{handler:function(a){var c=aA[a.type],b=aB.call(this,a,c);b&&this.callback(this.manager,c,{pointers:b[0],changedPointers:b[1],pointerType:K,srcEvent:a})}}),e(y,f,{handler:function(d,b,a){var e=a.pointerType==K,c=a.pointerType==L;if(!c||!a.sourceCapabilities||!a.sourceCapabilities.firesTouchEvents){if(e)aC.call(this,b,a);else if(c&&aE.call(this,a))return;this.callback(d,b,a)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var O=n(C.style,"touchAction"),aF=O!==l,P="compute",aG="auto",aH="manipulation",aI="none",aJ="pan-x",aK="pan-y",aL=function(){if(!aF)return!1;var a={},b=g.CSS&&g.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(c){a[c]=!b||g.CSS.supports("touch-action",c)}),a}();function z(a,b){this.manager=a,this.set(b)}function i(a){this.options=m({},this.defaults,a||{}),this.id=ad++,this.manager=null,this.options.enable=Y(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function aM(a){return 16&a?"cancel":8&a?"end":4&a?"move":2&a?"start":""}function aN(a){return 16==a?"down":8==a?"up":2==a?"left":4==a?"right":""}function aO(a,c){var b=c.manager;return b?b.get(a):a}function h(){i.apply(this,arguments)}function o(){h.apply(this,arguments),this.pX=null,this.pY=null}function p(){h.apply(this,arguments)}function q(){i.apply(this,arguments),this._timer=null,this._input=null}function r(){h.apply(this,arguments)}function s(){h.apply(this,arguments)}function j(){i.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function k(b,a){return(a=a||{}).recognizers=Y(a.recognizers,k.defaults.preset),new A(b,a)}function A(b,c){var a;this.options=m({},k.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||b,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=b,this.input=(a=this,new(a.options.inputClass||(af?v:ag?x:J?y:u))(a,aj)),this.touchAction=new z(this,this.options.touchAction),aP(this,!0),D(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function aP(a,b){var d,c=a.element;c.style&&(D(a.options.cssProps,function(e,f){d=n(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={}))}z.prototype={set:function(a){a==P&&(a=this.compute()),aF&&this.manager.element.style&&aL[a]&&(this.manager.element.style[O]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return D(this.manager.recognizers,function(b){X(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),function(a){if($(a,aI))return aI;var b=$(a,aJ),c=$(a,aK);return b&&c?aI:b||c?b?aJ:aK:$(a,aH)?aH:aG}(a.join(" "))},preventDefaults:function(a){var c=a.srcEvent,d=a.offsetDirection;if(this.manager.session.prevented){c.preventDefault();return}var b=this.actions,e=$(b,aI)&&!aL[aI],f=$(b,aK)&&!aL[aK],g=$(b,aJ)&&!aL[aJ];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}if((!g||!f)&&(e||f&&6&d||g&&24&d))return this.preventSrc(c)},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}},i.prototype={defaults:{},set:function(a){return m(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(W(a,"recognizeWith",this))return this;var b=this.simultaneous;return b[(a=aO(a,this)).id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return W(a,"dropRecognizeWith",this)||(a=aO(a,this),delete this.simultaneous[a.id]),this},requireFailure:function(a){if(W(a,"requireFailure",this))return this;var b=this.requireFail;return -1===aa(b,a=aO(a,this))&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(W(a,"dropRequireFailure",this))return this;a=aO(a,this);var b=aa(this.requireFail,a);return b> -1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(d){var c=this,a=this.state;function b(a){c.manager.emit(a,d)}a<8&&b(c.options.event+aM(a)),b(c.options.event),d.additionalEvent&&b(d.additionalEvent),a>=8&&b(c.options.event+aM(a))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=32},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(33&this.requireFail[a].state))return!1;a++}return!0},recognize:function(b){var a=m({},b);if(!X(this.options.enable,[this,a])){this.reset(),this.state=32;return}56&this.state&&(this.state=1),this.state=this.process(a),30&this.state&&this.tryEmit(a)},process:function(a){},getTouchAction:function(){},reset:function(){}},e(h,i,{defaults:{pointers:1},attrTest:function(b){var a=this.options.pointers;return 0===a||b.pointers.length===a},process:function(b){var a=this.state,c=b.eventType,d=6&a,e=this.attrTest(b);return d&&(8&c||!e)?16|a:d||e?4&c?8|a:2&a?4|a:2:32}}),e(o,h,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var b=this.options.direction,a=[];return 6&b&&a.push(aK),24&b&&a.push(aJ),a},directionTest:function(a){var c=this.options,d=!0,e=a.distance,b=a.direction,f=a.deltaX,g=a.deltaY;return b&c.direction||(6&c.direction?(b=0===f?1:f<0?2:4,d=f!=this.pX,e=Math.abs(a.deltaX)):(b=0===g?1:g<0?8:16,d=g!=this.pY,e=Math.abs(a.deltaY))),a.direction=b,d&&e>c.threshold&&b&c.direction},attrTest:function(a){return h.prototype.attrTest.call(this,a)&&(2&this.state|| !(2&this.state)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=aN(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),e(p,h,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[aI]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||2&this.state)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),e(q,i,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[aG]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,d&&c&&(!(12&a.eventType)||e)){if(1&a.eventType)this.reset(),this._timer=V(function(){this.state=8,this.tryEmit()},b.time,this);else if(4&a.eventType)return 8}else this.reset();return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){8===this.state&&(a&&4&a.eventType?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=U(),this.manager.emit(this.options.event,this._input)))}}),e(r,h,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[aI]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||2&this.state)}}),e(s,h,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return o.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return 30&c?b=a.overallVelocity:6&c?b=a.overallVelocityX:24&c&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&T(b)>this.options.velocity&&4&a.eventType},emit:function(a){var b=aN(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),e(j,i,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aH]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),1&a.eventType&&0===this.count)return this.failTimeout();if(d&&e&&c){if(4!=a.eventType)return this.failTimeout();var f=!this.pTime||a.timeStamp-this.pTime<b.interval,g=!this.pCenter||ar(this.pCenter,a.center)<b.posThreshold;if(this.pTime=a.timeStamp,this.pCenter=a.center,g&&f?this.count+=1:this.count=1,this._input=a,0==this.count%b.taps)return this.hasRequireFailures()?(this._timer=V(function(){this.state=8,this.tryEmit()},b.interval,this),2):8}return 32},failTimeout:function(){return this._timer=V(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),k.VERSION="2.0.7",k.defaults={domEvents:!1,touchAction:P,enable:!0,inputTarget:null,inputClass:null,preset:[[r,{enable:!1}],[p,{enable:!1},["rotate"]],[s,{direction:6}],[o,{direction:6},["swipe"]],[j],[j,{event:"doubletap",taps:2},["tap"]],[q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},A.prototype={set:function(a){return m(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(e){var b,c=this.session;if(!c.stopped){this.touchAction.preventDefaults(e);var f=this.recognizers,a=c.curRecognizer;(!a||a&&8&a.state)&&(a=c.curRecognizer=null);for(var d=0;d<f.length;)b=f[d],2!==c.stopped&&(!a||b==a||b.canRecognizeWith(a))?b.recognize(e):b.reset(),!a&&14&b.state&&(a=c.curRecognizer=b),d++}},get:function(b){if(b instanceof i)return b;for(var c=this.recognizers,a=0;a<c.length;a++)if(c[a].options.event==b)return c[a];return null},add:function(a){if(W(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(W(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=aa(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==l&&b!==l){var c=this.handlers;return D(_(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==l){var c=this.handlers;return D(_(a),function(a){b?c[a]&&c[a].splice(aa(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&(e=a,f=b,(g=B.createEvent("Event")).initEvent(e,!0,!0),g.gesture=f,f.target.dispatchEvent(g));var e,f,g,c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&aP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(k,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:A,Input:f,TouchAction:z,TouchInput:x,MouseInput:u,PointerEventInput:v,TouchMouseInput:y,SingleTouchInput:w,Recognizer:i,AttrRecognizer:h,Tap:j,Pan:o,Swipe:s,Pinch:p,Rotate:r,Press:q,on:H,off:I,each:D,merge:F,extend:E,assign:m,inherit:e,bindFn:G,prefixed:n}),(void 0!==g?g:"undefined"!=typeof self?self:{}).Hammer=k,l!==(d=(function(){return k}).call(b,c,b,a))&&(a.exports=d)}(window,document,"Hammer")},3454:function(d,e,a){"use strict";var b,c;d.exports=(null===(b=a.g.process)|| void 0===b?void 0:b.env)&&"object"==typeof(null===(c=a.g.process)|| void 0===c?void 0:c.env)?a.g.process:a(7663)},7663:function(a){!function(){var d={162:function(c){var e,f,g,a=c.exports={};function h(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function j(a){if(e===setTimeout)return setTimeout(a,0);if((e===h||!e)&&setTimeout)return e=setTimeout,setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(c){return e.call(this,a,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:h}catch(a){e=h}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(b){f=i}}();var k=[],l=!1,m=-1;function n(){l&&g&&(l=!1,g.length?k=g.concat(k):m=-1,k.length&&o())}function o(){if(!l){var b=j(n);l=!0;for(var a=k.length;a;){for(g=k,k=[];++m<a;)g&&g[m].run();m=-1,a=k.length}g=null,l=!1,function(a){if(f===clearTimeout)return clearTimeout(a);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{f(a)}catch(b){try{return f.call(null,a)}catch(c){return f.call(this,a)}}}(b)}}function d(a,b){this.fun=a,this.array=b}function b(){}a.nextTick=function(c){var b=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)b[a-1]=arguments[a];k.push(new d(c,b)),1!==k.length||l||j(o)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(a){return[]},a.binding=function(a){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(a){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}},e={};function b(a){var f=e[a];if(void 0!==f)return f.exports;var c=e[a]={exports:{}},g=!0;try{d[a](c,c.exports,b),g=!1}finally{g&&delete e[a]}return c.exports}b.ab="//";var c=b(162);a.exports=c}()},2703:function(a,e,b){"use strict";var f=b(414);function c(){}function d(){}d.resetWarningCache=c,a.exports=function(){function a(c,d,e,g,h,b){if(b!==f){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function b(){return a}a.isRequired=a;var e={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:d,resetWarningCache:c};return e.PropTypes=e,e}},5697:function(a,c,b){a.exports=b(2703)()},414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6785:function(av,M,b){"use strict";function aw(){return(aw=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function ax(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function ay(a,c){if(a){if("string"==typeof a)return ax(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ax(a,c)}}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.d(M,{ZP:function(){return cT}});var az,c=b(7294),a=b(5697);function aA(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||ay(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h="undefined"!=typeof Float32Array?Float32Array:Array;function aB(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function aC(l,m){var b,c,a,d,e,f,g,h,i,j;let k=(b=[],c=m,a=l,d=c[0],e=c[1],f=c[2],g=c[3],b[0]=a[0]*d+a[4]*e+a[8]*f+a[12]*g,b[1]=a[1]*d+a[5]*e+a[9]*f+a[13]*g,b[2]=a[2]*d+a[6]*e+a[10]*f+a[14]*g,b[3]=a[3]*d+a[7]*e+a[11]*f+a[15]*g,b);return h=k,i=k,j=1/k[3],h[0]=i[0]*j,h[1]=i[1]*j,h[2]=i[2]*j,h[3]=i[3]*j,k}function aD(c,b){let a=c%b;return a<0?b+a:a}function aE(a,b,c){return a<b?b:a>c?c:a}Math.hypot||(Math.hypot=function(){for(var b=0,a=arguments.length;a--;)b+=arguments[a]*arguments[a];return Math.sqrt(b)}),bc=new h(4),h!=Float32Array&&(bc[0]=0,bc[1]=0,bc[2]=0,bc[3]=0);let aF=Math.log2||function(a){return Math.log(a)*Math.LOG2E};function aG(e,f,g){var h=f[0],i=f[1],j=f[2],k=f[3],l=f[4],m=f[5],n=f[6],o=f[7],p=f[8],q=f[9],r=f[10],s=f[11],t=f[12],u=f[13],v=f[14],w=f[15],a=g[0],b=g[1],c=g[2],d=g[3];return e[0]=a*h+b*l+c*p+d*t,e[1]=a*i+b*m+c*q+d*u,e[2]=a*j+b*n+c*r+d*v,e[3]=a*k+b*o+c*s+d*w,a=g[4],b=g[5],c=g[6],d=g[7],e[4]=a*h+b*l+c*p+d*t,e[5]=a*i+b*m+c*q+d*u,e[6]=a*j+b*n+c*r+d*v,e[7]=a*k+b*o+c*s+d*w,a=g[8],b=g[9],c=g[10],d=g[11],e[8]=a*h+b*l+c*p+d*t,e[9]=a*i+b*m+c*q+d*u,e[10]=a*j+b*n+c*r+d*v,e[11]=a*k+b*o+c*s+d*w,a=g[12],b=g[13],c=g[14],d=g[15],e[12]=a*h+b*l+c*p+d*t,e[13]=a*i+b*m+c*q+d*u,e[14]=a*j+b*n+c*r+d*v,e[15]=a*k+b*o+c*s+d*w,e}function aH(b,a,f){var g,h,i,j,k,l,m,n,o,p,q,r,c=f[0],d=f[1],e=f[2];return a===b?(b[12]=a[0]*c+a[4]*d+a[8]*e+a[12],b[13]=a[1]*c+a[5]*d+a[9]*e+a[13],b[14]=a[2]*c+a[6]*d+a[10]*e+a[14],b[15]=a[3]*c+a[7]*d+a[11]*e+a[15]):(g=a[0],h=a[1],i=a[2],j=a[3],k=a[4],l=a[5],m=a[6],n=a[7],o=a[8],p=a[9],q=a[10],r=a[11],b[0]=g,b[1]=h,b[2]=i,b[3]=j,b[4]=k,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=g*c+k*d+o*e+a[12],b[13]=h*c+l*d+p*e+a[13],b[14]=i*c+m*d+q*e+a[14],b[15]=j*c+n*d+r*e+a[15]),b}function aI(a,b,f){var c=f[0],d=f[1],e=f[2];return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*d,a[5]=b[5]*d,a[6]=b[6]*d,a[7]=b[7]*d,a[8]=b[8]*e,a[9]=b[9]*e,a[10]=b[10]*e,a[11]=b[11]*e,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}function aJ(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14],H=b[15];return Math.abs(c-s)<=1e-6*Math.max(1,Math.abs(c),Math.abs(s))&&Math.abs(d-t)<=1e-6*Math.max(1,Math.abs(d),Math.abs(t))&&Math.abs(e-u)<=1e-6*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(f-v)<=1e-6*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(g-w)<=1e-6*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(h-x)<=1e-6*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(i-y)<=1e-6*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(j-z)<=1e-6*Math.max(1,Math.abs(j),Math.abs(z))&&Math.abs(k-A)<=1e-6*Math.max(1,Math.abs(k),Math.abs(A))&&Math.abs(l-B)<=1e-6*Math.max(1,Math.abs(l),Math.abs(B))&&Math.abs(m-C)<=1e-6*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(n-D)<=1e-6*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(o-E)<=1e-6*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(p-F)<=1e-6*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(q-G)<=1e-6*Math.max(1,Math.abs(q),Math.abs(G))&&Math.abs(r-H)<=1e-6*Math.max(1,Math.abs(r),Math.abs(H))}function aK(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function aL(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a}function aM(a,b){if(!a)throw new Error(b||"@math.gl/web-mercator: assertion failed.")}bd=new h(2),h!=Float32Array&&(bd[0]=0,bd[1]=0),be=new h(3),h!=Float32Array&&(be[0]=0,be[1]=0,be[2]=0);let n=Math.PI,aN=n/4,aO=n/180,aP=180/n;function aQ(a){return Math.pow(2,a)}function aR([b,a]){return aM(Number.isFinite(b)),aM(Number.isFinite(a)&&a>= -90&&a<=90,"invalid latitude"),[512*(b*aO+n)/(2*n),512*(n+Math.log(Math.tan(aN+.5*(a*aO))))/(2*n)]}function aS([a,b]){return[(a/512*(2*n)-n)*aP,2*(Math.atan(Math.exp(b/512*(2*n)-n))-aN)*aP]}function aT(a){return 2*Math.atan(.5/a)*aP}function aU(a){return .5/Math.tan(.5*a*aO)}function aV(i,c,j=0){let[a,b,e]=i;if(aM(Number.isFinite(a)&&Number.isFinite(b),"invalid pixel coordinate"),Number.isFinite(e)){let k=aC(c,[a,b,e,1]);return k}let f=aC(c,[a,b,0,1]),g=aC(c,[a,b,1,1]),d=f[2],h=g[2];return aL([],f,g,d===h?0:((j||0)-d)/(h-d))}let aW=Math.PI/180;function aX(a,c,d){let{pixelUnprojectionMatrix:e}=a,b=aC(e,[c,0,1,1]),f=aC(e,[c,a.height,1,1]),h=d*a.distanceScales.unitsPerMeter[2],i=(h-b[2])/(f[2]-b[2]),j=aL([],b,f,i),g=aS(j);return g[2]=d,g}class aY{constructor({width:f,height:c,latitude:l=0,longitude:m=0,zoom:p=0,pitch:n=0,bearing:q=0,altitude:a=null,fovy:b=null,position:o=null,nearZMultiplier:t=.02,farZMultiplier:u=1.01}={width:1,height:1}){f=f||1,c=c||1,null===b&&null===a?b=aT(a=1.5):null===b?b=aT(a):null===a&&(a=aU(b));let r=aQ(p);a=Math.max(.75,a);let s=function({latitude:c,longitude:i,highPrecision:j=!1}){aM(Number.isFinite(c)&&Number.isFinite(i));let b={},d=Math.cos(c*aO),e=1.4222222222222223/d,a=12790407194604047e-21/d;if(b.unitsPerMeter=[a,a,a],b.metersPerUnit=[1/a,1/a,1/a],b.unitsPerDegree=[1.4222222222222223,e,a],b.degreesPerUnit=[.703125,1/e,1/a],j){let f=aO*Math.tan(c*aO)/d,k=1.4222222222222223*f/2,g=12790407194604047e-21*f,h=g/e*a;b.unitsPerDegree2=[0,k,g],b.unitsPerMeter2=[h,0,h]}return b}({longitude:m,latitude:l}),d=aR([m,l]);if(d[2]=0,o){var e,g,h,i,j,k;i=d,j=d,k=(e=[],g=o,h=s.unitsPerMeter,e[0]=g[0]*h[0],e[1]=g[1]*h[1],e[2]=g[2]*h[2],e),i[0]=j[0]+k[0],i[1]=j[1]+k[1],i[2]=j[2]+k[2]}this.projectionMatrix=function({width:h,height:i,pitch:j,altitude:k,fovy:l,nearZMultiplier:m,farZMultiplier:n}){var a,f,g,c,b,d,e;let{fov:o,aspect:p,near:q,far:r}=function({width:f,height:g,fovy:a=aT(1.5),altitude:d,pitch:h=0,nearZMultiplier:i=1,farZMultiplier:j=1}){void 0!==d&&(a=aT(d));let b=.5*a*aO,c=aU(a),e=h*aO;return{fov:2*b,aspect:f/g,focalDistance:c,near:i,far:(Math.sin(e)*(Math.sin(b)*c/Math.sin(Math.min(Math.max(Math.PI/2-e-b,.01),Math.PI-.01)))+c)*j}}({width:h,height:i,altitude:k,fovy:l,pitch:j,nearZMultiplier:m,farZMultiplier:n}),s=(a=[],f=o,g=p,c=q,b=r,e=1/Math.tan(f/2),a[0]=e/g,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=e,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=b&&b!==1/0?(d=1/(c-b),a[10]=(b+c)*d,a[14]=2*b*c*d):(a[10]=-1,a[14]=-2*c),a);return s}({width:f,height:c,pitch:n,fovy:b,nearZMultiplier:t,farZMultiplier:u}),this.viewMatrix=function({height:F,pitch:G,bearing:H,altitude:I,scale:l,center:E=null}){var a,b,m,f,g,n,o,p,q,r,s,t,u,c,d,v,h,i,w,x,y,z,A,B,C,D,j,k;let e=aB();return aH(e,e,[0,0,-I]),a=e,b=e,m=-G*aO,f=Math.sin(m),g=Math.cos(m),n=b[4],o=b[5],p=b[6],q=b[7],r=b[8],s=b[9],t=b[10],u=b[11],b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=n*g+r*f,a[5]=o*g+s*f,a[6]=p*g+t*f,a[7]=q*g+u*f,a[8]=r*g-n*f,a[9]=s*g-o*f,a[10]=t*g-p*f,a[11]=u*g-q*f,c=e,d=e,v=H*aO,h=Math.sin(v),i=Math.cos(v),w=d[0],x=d[1],y=d[2],z=d[3],A=d[4],B=d[5],C=d[6],D=d[7],d!==c&&(c[8]=d[8],c[9]=d[9],c[10]=d[10],c[11]=d[11],c[12]=d[12],c[13]=d[13],c[14]=d[14],c[15]=d[15]),c[0]=w*i+A*h,c[1]=x*i+B*h,c[2]=y*i+C*h,c[3]=z*i+D*h,c[4]=A*i-w*h,c[5]=B*i-x*h,c[6]=C*i-y*h,c[7]=D*i-z*h,aI(e,e,[l/=F,l,l]),E&&aH(e,e,(j=[],k=E,j[0]=-k[0],j[1]=-k[1],j[2]=-k[2],j)),e}({height:c,scale:r,center:d,pitch:n,bearing:q,altitude:a}),this.width=f,this.height=c,this.scale=r,this.latitude=l,this.longitude=m,this.zoom=p,this.pitch=n,this.bearing=q,this.altitude=a,this.fovy=b,this.center=d,this.meterOffset=o||[0,0,0],this.distanceScales=s,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,a;let{width:I,height:J,projectionMatrix:K,viewMatrix:L}=this,G=aB();aG(G,G,K),aG(G,G,L),this.viewProjectionMatrix=G;let d=aB();aI(d,d,[I/2,-J/2,1]),aH(d,d,[1,-1,0]),aG(d,d,G);let H=(b=aB(),e=(c=d)[0],f=c[1],g=c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=c[8],n=c[9],o=c[10],p=c[11],q=c[12],r=c[13],s=c[14],t=c[15],u=e*j-f*i,v=e*k-g*i,w=e*l-h*i,x=f*k-g*j,y=f*l-h*j,z=g*l-h*k,A=m*r-n*q,B=m*s-o*q,C=m*t-p*q,D=n*s-o*r,E=n*t-p*r,F=o*t-p*s,a=u*F-v*E+w*D+x*C-y*B+z*A,a?(a=1/a,b[0]=(j*F-k*E+l*D)*a,b[1]=(g*E-f*F-h*D)*a,b[2]=(r*z-s*y+t*x)*a,b[3]=(o*y-n*z-p*x)*a,b[4]=(k*C-i*F-l*B)*a,b[5]=(e*F-g*C+h*B)*a,b[6]=(s*w-q*z-t*v)*a,b[7]=(m*z-o*w+p*v)*a,b[8]=(i*E-j*C+l*A)*a,b[9]=(f*C-e*E-h*A)*a,b[10]=(q*y-r*w+t*u)*a,b[11]=(n*w-m*y-p*u)*a,b[12]=(j*B-i*D-k*A)*a,b[13]=(e*D-f*B+g*A)*a,b[14]=(r*v-q*x-s*u)*a,b[15]=(m*x-n*v+o*u)*a,b):null);if(!H)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=d,this.pixelUnprojectionMatrix=H}equals(a){return a instanceof aY&&a.width===this.width&&a.height===this.height&&aJ(a.projectionMatrix,this.projectionMatrix)&&aJ(a.viewMatrix,this.viewMatrix)}project(a,{topLeft:f=!0}={}){let g=this.projectPosition(a),b=function(d,e){let[a,b,c=0]=d;return aM(Number.isFinite(a)&&Number.isFinite(b)&&Number.isFinite(c)),aC(e,[a,b,c,1])}(g,this.pixelProjectionMatrix),[c,d]=b,e=f?d:this.height-d;return 2===a.length?[c,e]:[c,e,b[2]]}unproject(f,{topLeft:g=!0,targetZ:a}={}){let[h,d,e]=f,i=g?d:this.height-d,j=a&&a*this.distanceScales.unitsPerMeter[2],k=aV([h,i,e],this.pixelUnprojectionMatrix,j),[b,c,l]=this.unprojectPosition(k);return Number.isFinite(e)?[b,c,l]:Number.isFinite(a)?[b,c,a]:[b,c]}projectPosition(a){let[b,c]=aR(a),d=(a[2]||0)*this.distanceScales.unitsPerMeter[2];return[b,c,d]}unprojectPosition(a){let[b,c]=aS(a),d=(a[2]||0)*this.distanceScales.metersPerUnit[2];return[b,c,d]}projectFlat(a){return aR(a)}unprojectFlat(a){return aS(a)}getMapCenterByLngLatPosition({lngLat:c,pos:d}){var a,b;let e=aV(d,this.pixelUnprojectionMatrix),f=aR(c),g=aK([],f,(a=[],b=e,a[0]=-b[0],a[1]=-b[1],a)),h=aK([],this.center,g);return aS(h)}getLocationAtPoint({lngLat:a,pos:b}){return this.getMapCenterByLngLatPosition({lngLat:a,pos:b})}fitBounds(c,d={}){let{width:a,height:b}=this,{longitude:e,latitude:f,zoom:g}=function({width:m,height:n,bounds:o,minExtent:f=0,maxZoom:p=24,padding:a=0,offset:g=[0,0]}){let[[q,r],[s,t]]=o;if(Number.isFinite(a)){let b=a;a={top:b,bottom:b,left:b,right:b}}else aM(Number.isFinite(a.top)&&Number.isFinite(a.bottom)&&Number.isFinite(a.left)&&Number.isFinite(a.right));let c=aR([q,aE(t,-85.051129,85.051129)]),d=aR([s,aE(r,-85.051129,85.051129)]),h=[Math.max(Math.abs(d[0]-c[0]),f),Math.max(Math.abs(d[1]-c[1]),f)],e=[m-a.left-a.right-2*Math.abs(g[0]),n-a.top-a.bottom-2*Math.abs(g[1])];aM(e[0]>0&&e[1]>0);let i=e[0]/h[0],j=e[1]/h[1],u=(a.right-a.left)/2/i,v=(a.bottom-a.top)/2/j,w=[(d[0]+c[0])/2+u,(d[1]+c[1])/2+v],k=aS(w),l=Math.min(p,aF(Math.abs(Math.min(i,j))));return aM(Number.isFinite(l)),{longitude:k[0],latitude:k[1],zoom:l}}(Object.assign({width:a,height:b,bounds:c},d));return new aY({width:a,height:b,longitude:e,latitude:f,zoom:g})}getBounds(b){let a=this.getBoundingRegion(b),c=Math.min(...a.map(a=>a[0])),d=Math.max(...a.map(a=>a[0])),e=Math.min(...a.map(a=>a[1])),f=Math.max(...a.map(a=>a[1]));return[[c,e],[d,f]]}getBoundingRegion(a={}){return function(a,d=0){let{width:e,height:h,unproject:b}=a,c={targetZ:d},i=b([0,h],c),j=b([e,h],c),f,g,k=a.fovy?.5*a.fovy*aW:Math.atan(.5/a.altitude),l=(90-a.pitch)*aW;return k>l-.01?(f=aX(a,0,d),g=aX(a,e,d)):(f=b([0,0],c),g=b([e,0],c)),[i,j,g,f]}(this,a.z||0)}}let aZ=["longitude","latitude","zoom"],a$={curve:1.414,speed:1.2};function a_(d,h,i){var f,j,k,o,p,q;i=Object.assign({},a$,i);let g=i.curve,l=d.zoom,w=[d.longitude,d.latitude],x=aQ(l),y=h.zoom,z=[h.longitude,h.latitude],A=aQ(y-l),r=aR(w),B=aR(z),s=(f=[],j=B,k=r,f[0]=j[0]-k[0],f[1]=j[1]-k[1],f),a=Math.max(d.width,d.height),e=a/A,t=(p=(o=s)[0],q=o[1],Math.hypot(p,q)*x),c=Math.max(t,.01),b=g*g,m=(e*e-a*a+b*b*c*c)/(2*a*b*c),n=(e*e-a*a-b*b*c*c)/(2*e*b*c),u=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(n*n+1)-n);return{startZoom:l,startCenterXY:r,uDelta:s,w0:a,u1:t,S:(v-u)/g,rho:g,rho2:b,r0:u,r1:v}}var N=function(){if("undefined"!=typeof Map)return Map;function a(a,c){var b=-1;return a.some(function(a,d){return a[0]===c&&(b=d,!0)}),b}return function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(c){var d=a(this.__entries__,c),b=this.__entries__[d];return b&&b[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(d){var b=this.__entries__,c=a(b,d);~c&&b.splice(c,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(e,a){void 0===a&&(a=null);for(var b=0,c=this.__entries__;b<c.length;b++){var d=c[b];e.call(a,d[1],d[0])}},b}()}(),a0="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==b.g&&b.g.Math===Math?b.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},a2=["top","right","bottom","left","width","height","size","weight"],a3="undefined"!=typeof MutationObserver,a4=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(b,c){var d=!1,e=!1,f=0;function g(){d&&(d=!1,b()),e&&a()}function h(){a1(g)}function a(){var a=Date.now();if(d){if(a-f<2)return;e=!0}else d=!0,e=!1,setTimeout(h,20);f=a}return a}(this.refresh.bind(this),20)}return a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},a.prototype.removeObserver=function(c){var a=this.observers_,b=a.indexOf(c);~b&&a.splice(b,1),!a.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},a.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),a.length>0},a.prototype.connect_=function(){a0&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){a0&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(b){var a=b.propertyName,c=void 0===a?"":a;a2.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a}(),a5=function(b,c){for(var a=0,d=Object.keys(c);a<d.length;a++){var e=d[a];Object.defineProperty(b,e,{value:c[e],enumerable:!1,writable:!1,configurable:!0})}return b},a6=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||o},a7=bb(0,0,0,0);function a8(a){return parseFloat(a)||0}function a9(c){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];return b.reduce(function(a,b){return a+a8(c["border-"+b+"-width"])},0)}var ba="undefined"!=typeof SVGGraphicsElement?function(a){return a instanceof a6(a).SVGGraphicsElement}:function(a){return a instanceof a6(a).SVGElement&&"function"==typeof a.getBBox};function bb(a,b,c,d){return{x:a,y:b,width:c,height:d}}var bc,bd,be,bf=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bb(0,0,0,0),this.target=a}return a.prototype.isActive=function(){var a=function(a){if(!a0)return a7;if(ba(a)){var b;return bb(0,0,(b=a.getBBox()).width,b.height)}return function(c){var f=c.clientWidth,g=c.clientHeight;if(!f&&!g)return a7;var j,a=a6(c).getComputedStyle(c),b=function g(e){for(var b={},a=0,c=["top","right","bottom","left"];a<c.length;a++){var d=c[a],f=e["padding-"+d];b[d]=a8(f)}return b}(a),h=b.left+b.right,i=b.top+b.bottom,d=a8(a.width),e=a8(a.height);if("border-box"===a.boxSizing&&(Math.round(d+h)!==f&&(d-=a9(a,"left","right")+h),Math.round(e+i)!==g&&(e-=a9(a,"top","bottom")+i)),(j=c)!==a6(j).document.documentElement){var k=Math.round(d+h)-f,l=Math.round(e+i)-g;1!==Math.abs(k)&&(d-=k),1!==Math.abs(l)&&(e-=l)}return bb(b.left,b.top,d,e)}(a)}(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},a}(),bg=function(g,h){var a,b,c,d,e,f,i=(b=(a=h).x,c=a.y,d=a.width,e=a.height,f=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),a5(f,{x:b,y:c,width:d,height:e,top:c,right:b+d,bottom:e+c,left:b}),f);a5(this,{target:g,contentRect:i})},bh=function(){function a(a,b,c){if(this.activeObservations_=[],this.observations_=new N,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c}return a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof a6(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)||(b.set(a,new bf(a)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof a6(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new bg(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return this.activeObservations_.length>0},a}(),bi="undefined"!=typeof WeakMap?new WeakMap:new N,O=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=a4.getInstance(),d=new bh(b,c,this);bi.set(this,d)}return a}();["observe","unobserve","disconnect"].forEach(function(a){O.prototype[a]=function(){var b;return(b=bi.get(this))[a].apply(b,arguments)}});var bj=void 0!==o.ResizeObserver?o.ResizeObserver:O;function bk(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bl(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function bm(a,b,c){return b&&bl(a.prototype,b),c&&bl(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}"undefined"!=typeof window||b.g,void 0!==b.g&&b.g;var P="undefined"!=typeof document?document:{};function bn(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function bo(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?bn(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bn(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}function bp(a,c){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=bq(a))||c&&a&&"number"==typeof a.length){e&&(a=e);var d=0,b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}function bq(a,c){if(a){if("string"==typeof a)return br(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return br(a,c)}}function br(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var bs=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bt(a){if(!a)return null;if("string"==typeof a)return a;a.toJS&&(a=a.toJS());var c,e={},b=bp(a.layers);try{for(b.s();!(c=b.n()).done;){var d=c.value;e[d.id]=d}}catch(f){b.e(f)}finally{b.f()}var g=a.layers.map(function(a){var d=e[a.ref],b=null;if("interactive"in a&&delete(b=bo({},a)).interactive,d){delete(b=b||bo({},a)).ref;var g,c=bp(bs);try{for(c.s();!(g=c.n()).done;){var f=g.value;f in d&&(b[f]=d[f])}}catch(h){c.e(h)}finally{c.f()}}return b||a});return bo(bo({},a),{},{layers:g})}var bu=b(3454),Q={container:a.object,gl:a.object,mapboxApiAccessToken:a.string,mapboxApiUrl:a.string,attributionControl:a.bool,preserveDrawingBuffer:a.bool,reuseMaps:a.bool,transformRequest:a.func,mapOptions:a.object,mapStyle:a.oneOfType([a.string,a.object]),preventStyleDiffing:a.bool,visible:a.bool,asyncRender:a.bool,onLoad:a.func,onError:a.func,width:a.number,height:a.number,viewState:a.object,longitude:a.number,latitude:a.number,zoom:a.number,bearing:a.number,pitch:a.number,altitude:a.number},R={container:P.body,mapboxApiAccessToken:function(){var a=null;if("undefined"!=typeof window&&window.location){var b=window.location.search.match(/access_token=([^&\/]*)/);a=b&&b[1]}return a|| void 0===bu||(a=a||bu.env.MapboxAccessToken||bu.env.REACT_APP_MAPBOX_ACCESS_TOKEN),a||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(a){a&&console.error(a.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function bv(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"component";b.debug&&a.checkPropTypes(Q,b,"prop",c)}var i=function(){function a(b){var c=this;if(bk(this,a),g(this,"props",R),g(this,"width",0),g(this,"height",0),g(this,"_fireLoadEvent",function(){c.props.onLoad({type:"load",target:c._map})}),g(this,"_handleError",function(a){c.props.onError(a)}),!b.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=b.mapboxgl,a.initialized||(a.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(b)}return bm(a,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(a){return this._update(this.props,a),this}},{key:"redraw",value:function(){var a=this._map;a.style&&(a._frame&&(a._frame.cancel(),a._frame=null),a._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(b){this._map=a.savedMap;var d=this._map.getContainer(),c=b.container;for(c.classList.add("mapboxgl-map");d.childNodes.length>0;)c.appendChild(d.childNodes[0]);this._map._container=c,a.savedMap=null,b.mapStyle&&this._map.setStyle(bt(b.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(b){if(b.reuseMaps&&a.savedMap)this._reuse(b);else{if(b.gl){var d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=d,b.gl}}var c={container:b.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:bt(b.mapStyle),interactive:!1,trackResize:!1,attributionControl:b.attributionControl,preserveDrawingBuffer:b.preserveDrawingBuffer};b.transformRequest&&(c.transformRequest=b.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},c,b.mapOptions)),this._map.once("load",this._fireLoadEvent),this._map.on("error",this._handleError)}return this}},{key:"_destroy",value:function(){this._map&&(this.props.reuseMaps&&!a.savedMap?(a.savedMap=this._map,this._map.off("load",this._fireLoadEvent),this._map.off("error",this._handleError),this._map.off("styledata",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:"_initialize",value:function(a){var d=this;bv(a=Object.assign({},R,a),"Mapbox"),this.mapboxgl.accessToken=a.mapboxApiAccessToken||R.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=a.mapboxApiUrl,this._create(a);var b=a.container;Object.defineProperty(b,"offsetWidth",{configurable:!0,get:function(){return d.width}}),Object.defineProperty(b,"clientWidth",{configurable:!0,get:function(){return d.width}}),Object.defineProperty(b,"offsetHeight",{configurable:!0,get:function(){return d.height}}),Object.defineProperty(b,"clientHeight",{configurable:!0,get:function(){return d.height}});var c=this._map.getCanvas();c&&(c.style.outline="none"),this._updateMapViewport({},a),this._updateMapSize({},a),this.props=a}},{key:"_update",value:function(b,a){if(this._map){bv(a=Object.assign({},this.props,a),"Mapbox");var c=this._updateMapViewport(b,a),d=this._updateMapSize(b,a);this._updateMapStyle(b,a),!a.asyncRender&&(c||d)&&this.redraw(),this.props=a}}},{key:"_updateMapStyle",value:function(b,a){b.mapStyle!==a.mapStyle&&this._map.setStyle(bt(a.mapStyle),{diff:!a.preventStyleDiffing})}},{key:"_updateMapSize",value:function(b,a){var c=b.width!==a.width||b.height!==a.height;return c&&(this.width=a.width,this.height=a.height,this._map.resize()),c}},{key:"_updateMapViewport",value:function(d,e){var b=this._getViewState(d),a=this._getViewState(e),c=a.latitude!==b.latitude||a.longitude!==b.longitude||a.zoom!==b.zoom||a.pitch!==b.pitch||a.bearing!==b.bearing||a.altitude!==b.altitude;return c&&(this._map.jumpTo(this._viewStateToMapboxProps(a)),a.altitude!==b.altitude&&(this._map.transform.altitude=a.altitude)),c}},{key:"_getViewState",value:function(b){var a=b.viewState||b,f=a.longitude,g=a.latitude,h=a.zoom,c=a.pitch,d=a.bearing,e=a.altitude;return{longitude:f,latitude:g,zoom:h,pitch:void 0===c?0:c,bearing:void 0===d?0:d,altitude:void 0===e?1.5:e}}},{key:"_checkStyleSheet",value:function(){var c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==P)try{var a=P.createElement("div");if(a.className="mapboxgl-map",a.style.display="none",P.body.appendChild(a),!("static"!==window.getComputedStyle(a).position)){var b=P.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(c,"/mapbox-gl.css")),P.head.appendChild(b)}}catch(d){}}},{key:"_viewStateToMapboxProps",value:function(a){return{center:[a.longitude,a.latitude],zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}}}]),a}();g(i,"initialized",!1),g(i,"propTypes",Q),g(i,"defaultProps",R),g(i,"savedMap",null);var S=b(6158),A=b.n(S);function bw(a){return Array.isArray(a)||ArrayBuffer.isView(a)}function bx(a,b){if(a===b)return!0;if(bw(a)&&bw(b)){if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(!bx(a[c],b[c]))return!1;return!0}return 1e-7>=Math.abs(a-b)}function by(a,b,c){return Math.max(b,Math.min(c,a))}function bz(a,c,b){return bw(a)?a.map(function(a,d){return bz(a,c[d],b)}):b*c+(1-b)*a}function bA(a,b){if(!a)throw new Error(b||"react-map-gl: assertion failed.")}function bB(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function bC(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?bB(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bB(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}var B={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},bD={pitch:0,bearing:0,altitude:1.5},bE=function(){function a(b){var c=b.width,d=b.height,e=b.latitude,f=b.longitude,g=b.zoom,h=b.bearing,o=void 0===h?bD.bearing:h,i=b.pitch,p=void 0===i?bD.pitch:i,j=b.altitude,q=void 0===j?bD.altitude:j,k=b.maxZoom,r=void 0===k?B.maxZoom:k,l=b.minZoom,s=void 0===l?B.minZoom:l,m=b.maxPitch,t=void 0===m?B.maxPitch:m,n=b.minPitch,u=void 0===n?B.minPitch:n,v=b.transitionDuration,w=b.transitionEasing,x=b.transitionInterpolator,y=b.transitionInterruption,z=b.startPanLngLat,A=b.startZoomLngLat,C=b.startRotatePos,D=b.startBearing,E=b.startPitch,F=b.startZoom;bk(this,a),bA(Number.isFinite(c),"`width` must be supplied"),bA(Number.isFinite(d),"`height` must be supplied"),bA(Number.isFinite(f),"`longitude` must be supplied"),bA(Number.isFinite(e),"`latitude` must be supplied"),bA(Number.isFinite(g),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:c,height:d,latitude:e,longitude:f,zoom:g,bearing:o,pitch:p,altitude:q,maxZoom:r,minZoom:s,maxPitch:t,minPitch:u,transitionDuration:v,transitionEasing:w,transitionInterpolator:x,transitionInterruption:y}),this._state={startPanLngLat:z,startZoomLngLat:A,startRotatePos:C,startBearing:D,startPitch:E,startZoom:F}}return bm(a,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(a){var b=a.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(b)})}},{key:"pan",value:function(a){var d=a.pos,e=a.startPos,b=this._state.startPanLngLat||this._unproject(e);if(!b)return this;var c=aA(this._calculateNewLngLat({startPanLngLat:b,pos:d}),2),f=c[0],g=c[1];return this._getUpdatedMapState({longitude:f,latitude:g})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(a){var b=a.pos;return this._getUpdatedMapState({startRotatePos:b,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(a){var e,f=a.pos,g=a.deltaAngleX,h=a.deltaAngleY,b=this._state,i=b.startRotatePos,c=b.startBearing,d=b.startPitch;return Number.isFinite(c)&&Number.isFinite(d)?(e=f?this._calculateNewPitchAndBearing(bC(bC({},this._getRotationParams(f,i)),{},{startBearing:c,startPitch:d})):{bearing:c+(void 0===g?0:g),pitch:d+(void 0===h?0:h)},this._getUpdatedMapState(e)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(a){var b=a.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(b),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(a){var d=a.pos,i=a.startPos,e=a.scale;bA(e>0,"`scale` must be a positive number");var f=this._state,b=f.startZoom,c=f.startZoomLngLat;Number.isFinite(b)||(b=this._viewportProps.zoom,c=this._unproject(i)||this._unproject(d)),bA(c,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var g=this._calculateNewZoom({scale:e,startZoom:b||0}),j=new aY(Object.assign({},this._viewportProps,{zoom:g})),k=j.getMapCenterByLngLatPosition({lngLat:c,pos:d}),h=aA(k,2),l=h[0],m=h[1];return this._getUpdatedMapState({zoom:g,longitude:l,latitude:m})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(b){return new a(Object.assign({},this._viewportProps,this._state,b))}},{key:"_applyConstraints",value:function(a){var b=a.maxZoom,c=a.minZoom,d=a.zoom;a.zoom=by(d,c,b);var e=a.maxPitch,f=a.minPitch,g=a.pitch;return a.pitch=by(g,f,e),Object.assign(a,function({width:j,height:e,longitude:b,latitude:a,zoom:d,pitch:k=0,bearing:c=0}){(b< -180||b>180)&&(b=aD(b+180,360)-180),(c< -180||c>180)&&(c=aD(c+180,360)-180);let f=aF(e/512);if(d<=f)d=f,a=0;else{let g=e/2/Math.pow(2,d),h=aS([0,g])[1];if(a<h)a=h;else{let i=aS([0,512-g])[1];a>i&&(a=i)}}return{width:j,height:e,longitude:b,latitude:a,zoom:d,pitch:k,bearing:c}}(a)),a}},{key:"_unproject",value:function(a){var b=new aY(this._viewportProps);return a&&b.unproject(a)}},{key:"_calculateNewLngLat",value:function(a){var b=a.startPanLngLat,c=a.pos,d=new aY(this._viewportProps);return d.getMapCenterByLngLatPosition({lngLat:b,pos:c})}},{key:"_calculateNewZoom",value:function(a){var c=a.scale,d=a.startZoom,b=this._viewportProps,e=b.maxZoom,f=b.minZoom;return by(d+Math.log2(c),f,e)}},{key:"_calculateNewPitchAndBearing",value:function(c){var f=c.deltaScaleX,a=c.deltaScaleY,g=c.startBearing,b=c.startPitch;a=by(a,-1,1);var e=this._viewportProps,h=e.minPitch,i=e.maxPitch,d=b;return a>0?d=b+a*(i-b):a<0&&(d=b-a*(h-b)),{pitch:d,bearing:g+180*f}}},{key:"_getRotationParams",value:function(c,d){var h=c[0]-d[0],e=c[1]-d[1],i=c[1],a=d[1],f=this._viewportProps,j=f.width,g=f.height,b=0;return e>0?Math.abs(g-a)>5&&(b=e/(a-g)*1.2):e<0&&a>5&&(b=1-i/a),{deltaScaleX:h/j,deltaScaleY:b=Math.min(1,Math.max(-1,b))}}}]),a}();function bF(a){return a[0].toLowerCase()+a.slice(1)}function bG(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function bH(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?bG(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bG(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}var p=(0,c.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),bI=p.Provider;p.Provider=function(d){var a=d.value,f=d.children,e=aA((0,c.useState)(null),2),g=e[0],h=e[1],b=(0,c.useContext)(p);return a=bH(bH({setMap:h},b),{},{map:b&&b.map||g},a),c.createElement(bI,{value:a},f)};var bJ=p,bK="undefined"!=typeof window?c.useLayoutEffect:c.useEffect;function bL(a,b){var c=b.longitude,d=b.latitude;return a&&a.queryTerrainElevation&&a.queryTerrainElevation([c,d])||0}function bM(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function bN(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?bM(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bM(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}var bO="A valid API access token is required to use Mapbox data";function bP(a){var d=a.map,c=a.props,e=a.width,f=a.height,b=bN(bN(bN({},c),c.viewState),{},{width:e,height:f});return b.position=[0,0,bL(d,b)],new aY(b)}var bQ={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},T=Object.assign({},i.propTypes,{width:a.oneOfType([a.number,a.string]),height:a.oneOfType([a.number,a.string]),onResize:a.func,disableTokenWarning:a.bool,visible:a.bool,className:a.string,style:a.object,visibilityConstraints:a.object}),U=Object.assign({},i.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:B});function bR(){return c.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},c.createElement("h3",{key:"header"},bO),c.createElement("div",{key:"text"},"For information on setting up your basemap, read"),c.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}var j=(0,c.forwardRef)(function(a,k){var e=aA((0,c.useState)(!0),2),l=e[0],z=e[1],f=aA((0,c.useState)({width:0,height:0}),2),m=f[0],C=f[1],g=(0,c.useRef)(null),n=(0,c.useRef)(null),h=(0,c.useRef)(null),o=(0,c.useRef)(null),b=(0,c.useContext)(bJ);bK(function(){if(j.supported()){var c=new i(bN(bN(bN({},a),m),{},{mapboxgl:A(),container:n.current,onError:function(b){401===(b.error&&b.error.status||b.status)&&l&&(console.error(bO),z(!1)),a.onError(b)}}));g.current=c,b&&b.setMap&&b.setMap(c.getMap());var d=new bj(function(b){if(b[0].contentRect){var c=b[0].contentRect,d=c.width,e=c.height;C({width:d,height:e}),a.onResize({width:d,height:e})}});return d.observe(h.current),function(){c.finalize(),g.current=null,d.disconnect()}}},[]),bK(function(){g.current&&g.current.setProps(bN(bN({},a),m))});var d=g.current&&g.current.getMap();(0,c.useImperativeHandle)(k,function(){var a;return a=g,{getMap:function(){return a.current&&a.current.getMap()},queryRenderedFeatures:function(c){var d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},b=a.current&&a.current.getMap();return b&&b.queryRenderedFeatures(c,d)}}},[]);var p=(0,c.useCallback)(function(b){var a=b.target;a===o.current&&a.scrollTo(0,0)},[]),q=d&&c.createElement(bI,{value:bN(bN({},b),{},{viewport:b.viewport||bP(bN({map:d,props:a},m)),map:d,container:b.container||h.current})},c.createElement("div",{key:"map-overlays",className:"overlays",ref:o,style:bQ,onScroll:p},a.children)),r=a.className,s=a.width,t=a.height,u=a.style,v=a.visibilityConstraints,w=Object.assign({position:"relative"},u,{width:s,height:t}),x=a.visible&&function(c){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:B;for(var a in b){var d=a.slice(0,3),e=bF(a.slice(3));if("min"===d&&c[e]<b[a]||"max"===d&&c[e]>b[a])return!1}return!0}(a.viewState||a,v),y=Object.assign({},bQ,{visibility:x?"inherit":"hidden"});return c.createElement("div",{key:"map-container",ref:h,style:w},c.createElement("div",{key:"map-mapbox",ref:n,style:y,className:r}),q,!l&&!a.disableTokenWarning&&c.createElement(bR,null))});j.supported=function(){return A()&&A().supported()},j.propTypes=T,j.defaultProps=U;var q=j;function bS(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var C=function(){function a(){bk(this,a),g(this,"propNames",[])}return bm(a,[{key:"arePropsEqual",value:function(d,e){var b,a=function(a,c){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=function(a,c){if(a){if("string"==typeof a)return bS(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return bS(a,c)}}(a))){e&&(a=e);var d=0,b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}(this.propNames||[]);try{for(a.s();!(b=a.n()).done;){var c=b.value;if(!bx(d[c],e[c]))return!1}}catch(f){a.e(f)}finally{a.f()}return!0}},{key:"initializeProps",value:function(a,b){return{start:a,end:b}}},{key:"interpolateProps",value:function(a,b,c){bA(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(b,a){return a.transitionDuration}}]),a}();function bT(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function bU(a,b){return(bU=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function bV(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),a&&bU(b,a)}function bW(a){return(bW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bX(b,a){if(a&&("object"===bW(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return bT(b)}function bY(a){return(bY=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var bZ={longitude:1,bearing:1};function b$(a){return Number.isFinite(a)||Array.isArray(a)}function b_(b,c,a){return b in bZ&&Math.abs(a-c)>180&&(a=a<0?a+360:a-360),a}function b0(a,c){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=b1(a))||c&&a&&"number"==typeof a.length){e&&(a=e);var d=0,b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}function b1(a,c){if(a){if("string"==typeof a)return b2(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return b2(a,c)}}function b2(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var b3=["longitude","latitude","zoom","bearing","pitch"],b4=["latitude","longitude","zoom","width","height"],b5=["bearing","pitch"],b6={speed:1.2,curve:1.414};function b7(a,c){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=b8(a))||c&&a&&"number"==typeof a.length){e&&(a=e);var d=0,b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}function b8(a,c){if(a){if("string"==typeof a)return b9(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return b9(a,c)}}function b9(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}!function(a){bV(d,a);var b,c,e=(b=d,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d=bY(b);if(c){var e=bY(this).constructor;a=Reflect.construct(d,arguments,e)}else a=d.apply(this,arguments);return bX(this,a)});function d(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return bk(this,d),g(bT(a=e.call(this)),"propNames",b3),a.props=Object.assign({},b6,b),a}bm(d,[{key:"initializeProps",value:function(h,i){var j,e={},f={},c=b0(b4);try{for(c.s();!(j=c.n()).done;){var a=j.value,g=h[a],k=i[a];bA(b$(g)&&b$(k),"".concat(a," must be supplied for transition")),e[a]=g,f[a]=b_(a,g,k)}}catch(n){c.e(n)}finally{c.f()}var l,d=b0(b5);try{for(d.s();!(l=d.n()).done;){var b=l.value,m=h[b]||0,o=i[b]||0;e[b]=m,f[b]=b_(b,m,o)}}catch(p){d.e(p)}finally{d.f()}return{start:e,end:f}}},{key:"interpolateProps",value:function(c,d,e){var f,g=function(h,i,j,r={}){var k,l,m,c,d,e;let a={},{startZoom:s,startCenterXY:t,uDelta:u,w0:v,u1:n,S:w,rho:o,rho2:x,r0:b}=a_(h,i,r);if(n<.01){for(let f of aZ){let y=h[f],z=i[f];a[f]=(k=y,l=z,(m=j)*l+(1-m)*k)}return a}let p=j*w,A=s+aF(1/(Math.cosh(b)/Math.cosh(b+o*p))),g=(c=[],d=u,e=v*((Math.cosh(b)*Math.tanh(b+o*p)-Math.sinh(b))/x)/n,c[0]=d[0]*e,c[1]=d[1]*e,c);aK(g,g,t);let q=aS(g);return a.longitude=q[0],a.latitude=q[1],a.zoom=A,a}(c,d,e,this.props),a=b0(b5);try{for(a.s();!(f=a.n()).done;){var b=f.value;g[b]=bz(c[b],d[b],e)}}catch(h){a.e(h)}finally{a.f()}return g}},{key:"getDuration",value:function(c,b){var a=b.transitionDuration;return"auto"===a&&(a=function(f,g,a={}){a=Object.assign({},a$,a);let{screenSpeed:c,speed:h,maxDuration:d}=a,{S:i,rho:j}=a_(f,g,a),e=1e3*i,b;return b=Number.isFinite(c)?e/(c/j):e/h,Number.isFinite(d)&&b>d?0:b}(c,b,this.props)),a}}])}(C);var ca=["longitude","latitude","zoom","bearing","pitch"],D=function(b){bV(a,b);var c,d,e=(c=a,d=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b=bY(c);if(d){var e=bY(this).constructor;a=Reflect.construct(b,arguments,e)}else a=b.apply(this,arguments);return bX(this,a)});function a(){var c,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return bk(this,a),c=e.call(this),Array.isArray(b)&&(b={transitionProps:b}),c.propNames=b.transitionProps||ca,b.around&&(c.around=b.around),c}return bm(a,[{key:"initializeProps",value:function(g,c){var d={},e={};if(this.around){d.around=this.around;var h=new aY(g).unproject(this.around);Object.assign(e,c,{around:new aY(c).project(h),aroundLngLat:h})}var i,b=b7(this.propNames);try{for(b.s();!(i=b.n()).done;){var a=i.value,f=g[a],j=c[a];bA(b$(f)&&b$(j),"".concat(a," must be supplied for transition")),d[a]=f,e[a]=b_(a,f,j)}}catch(k){b.e(k)}finally{b.f()}return{start:d,end:e}}},{key:"interpolateProps",value:function(e,a,f){var g,b={},c=b7(this.propNames);try{for(c.s();!(g=c.n()).done;){var d=g.value;b[d]=bz(e[d],a[d],f)}}catch(i){c.e(i)}finally{c.f()}if(a.around){var h=aA(new aY(Object.assign({},a,b)).getMapCenterByLngLatPosition({lngLat:a.aroundLngLat,pos:bz(e.around,a.around,f)}),2),j=h[0],k=h[1];b.longitude=j,b.latitude=k}return b}}]),a}(C),r=function(){},E={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},V={transitionDuration:0,transitionEasing:function(a){return a},transitionInterpolator:new D,transitionInterruption:E.BREAK,onTransitionStart:r,onTransitionInterrupt:r,onTransitionEnd:r},F=function(){function a(){var c=this,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};bk(this,a),g(this,"_animationFrame",null),g(this,"_onTransitionFrame",function(){c._animationFrame=requestAnimationFrame(c._onTransitionFrame),c._updateViewport()}),this.props=null,this.onViewportChange=b.onViewportChange||r,this.onStateChange=b.onStateChange||r,this.time=b.getTime||Date.now}return bm(a,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(c){var a=this.props;if(this.props=c,!a||this._shouldIgnoreViewportChange(a,c))return!1;if(this._isTransitionEnabled(c)){var d=Object.assign({},a),b=Object.assign({},c);if(this._isTransitionInProgress()&&(a.onTransitionInterrupt(),this.state.interruption===E.SNAP_TO_END?Object.assign(d,this.state.endProps):Object.assign(d,this.state.propsInTransition),this.state.interruption===E.UPDATE)){var f,g,h,e=this.time(),i=(e-this.state.startTime)/this.state.duration;b.transitionDuration=this.state.duration-(e-this.state.startTime),b.transitionEasing=(h=(f=this.state.easing)(g=i),function(a){return 1/(1-h)*(f(a*(1-g)+g)-h)}),b.transitionInterpolator=d.transitionInterpolator}return b.onTransitionStart(),this._triggerTransition(d,b),!0}return this._isTransitionInProgress()&&(a.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(a){var b=a.transitionDuration,c=a.transitionInterpolator;return(b>0||"auto"===b)&&Boolean(c)}},{key:"_isUpdateDueToCurrentTransition",value:function(a){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(a,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(b,a){return!b||(this._isTransitionInProgress()?this.state.interruption===E.IGNORE||this._isUpdateDueToCurrentTransition(a):!this._isTransitionEnabled(a)||a.transitionInterpolator.arePropsEqual(b,a))}},{key:"_triggerTransition",value:function(b,a){bA(this._isTransitionEnabled(a)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var c=a.transitionInterpolator,d=c.getDuration?c.getDuration(b,a):a.transitionDuration;if(0!==d){var e=a.transitionInterpolator.initializeProps(b,a),f={inTransition:!0,isZooming:b.zoom!==a.zoom,isPanning:b.longitude!==a.longitude||b.latitude!==a.latitude,isRotating:b.bearing!==a.bearing||b.pitch!==a.pitch};this.state={duration:d,easing:a.transitionEasing,interpolator:a.transitionInterpolator,interruption:a.transitionInterruption,startTime:this.time(),startProps:e.start,endProps:e.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(f)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var d=this.time(),a=this.state,e=a.startTime,f=a.duration,g=a.easing,h=a.interpolator,i=a.startProps,j=a.endProps,c=!1,b=(d-e)/f;b>=1&&(b=1,c=!0),b=g(b);var k=h.interpolateProps(i,j,b),l=new bE(Object.assign({},this.props,k));this.state.propsInTransition=l.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),c&&(this._endTransition(),this.props.onTransitionEnd())}}]),a}();g(F,"defaultProps",V);var W=b(840),k=b.n(W);let cb={mousedown:1,mousemove:2,mouseup:4};!function(a){let b=a.prototype.handler;a.prototype.handler=function(a){let c=this.store;a.button>0&&"pointerdown"===a.type&& !function(b,c){for(let a=0;a<b.length;a++)if(c(b[a]))return!0;return!1}(c,b=>b.pointerId===a.pointerId)&&c.push(a),b.call(this,a)}}(k().PointerEventInput),k().MouseInput.prototype.handler=function(a){let b=cb[a.type];1&b&&a.button>=0&&(this.pressed=!0),2&b&&0===a.which&&(b=4),this.pressed&&(4&b&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))};let cc=k().Manager;var e=k();let cd=e?[[e.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[e.Rotate,{enable:!1}],[e.Pinch,{enable:!1}],[e.Swipe,{enable:!1}],[e.Pan,{threshold:0,enable:!1}],[e.Press,{enable:!1}],[e.Tap,{event:"doubletap",taps:2,enable:!1}],[e.Tap,{event:"anytap",enable:!1}],[e.Tap,{enable:!1}]]:null,ce={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},cf={doubletap:["tap"]},cg={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},s={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},ch={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},ci={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},X="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",G="undefined"!=typeof window?window:b.g;void 0!==b.g&&b.g;let Y=!1;try{let l={get passive(){return Y=!0,!0}};G.addEventListener("test",l,l),G.removeEventListener("test",l,l)}catch(cj){}let ck=-1!==X.indexOf("firefox"),{WHEEL_EVENTS:cl}=s,cm="wheel";class cn{constructor(b,c,a={}){this.element=b,this.callback=c,this.options=Object.assign({enable:!0},a),this.events=cl.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(a=>b.addEventListener(a,this.handleEvent,!!Y&&{passive:!1}))}destroy(){this.events.forEach(a=>this.element.removeEventListener(a,this.handleEvent))}enableEventType(a,b){a===cm&&(this.options.enable=b)}handleEvent(b){if(!this.options.enable)return;let a=b.deltaY;G.WheelEvent&&(ck&&b.deltaMode===G.WheelEvent.DOM_DELTA_PIXEL&&(a/=G.devicePixelRatio),b.deltaMode===G.WheelEvent.DOM_DELTA_LINE&&(a*=40));let c={x:b.clientX,y:b.clientY};0!==a&&a%4.000244140625==0&&(a=Math.floor(a/4.000244140625)),b.shiftKey&&a&&(a*=.25),this._onWheel(b,-a,c)}_onWheel(a,b,c){this.callback({type:cm,center:c,delta:b,srcEvent:a,pointerType:"mouse",target:a.target})}}let{MOUSE_EVENTS:co}=s,cp="pointermove",cq="pointerover",cr="pointerout",cs="pointerleave";class ct{constructor(b,c,a={}){this.element=b,this.callback=c,this.pressed=!1,this.options=Object.assign({enable:!0},a),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=co.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(a=>b.addEventListener(a,this.handleEvent))}destroy(){this.events.forEach(a=>this.element.removeEventListener(a,this.handleEvent))}enableEventType(a,b){a===cp&&(this.enableMoveEvent=b),a===cq&&(this.enableOverEvent=b),a===cr&&(this.enableOutEvent=b),a===cs&&(this.enableLeaveEvent=b)}handleEvent(a){this.handleOverEvent(a),this.handleOutEvent(a),this.handleLeaveEvent(a),this.handleMoveEvent(a)}handleOverEvent(a){this.enableOverEvent&&"mouseover"===a.type&&this.callback({type:cq,srcEvent:a,pointerType:"mouse",target:a.target})}handleOutEvent(a){this.enableOutEvent&&"mouseout"===a.type&&this.callback({type:cr,srcEvent:a,pointerType:"mouse",target:a.target})}handleLeaveEvent(a){this.enableLeaveEvent&&"mouseleave"===a.type&&this.callback({type:cs,srcEvent:a,pointerType:"mouse",target:a.target})}handleMoveEvent(a){if(this.enableMoveEvent)switch(a.type){case"mousedown":a.button>=0&&(this.pressed=!0);break;case"mousemove":0===a.which&&(this.pressed=!1),this.pressed||this.callback({type:cp,srcEvent:a,pointerType:"mouse",target:a.target});break;case"mouseup":this.pressed=!1;break;default:}}}let{KEY_EVENTS:cu}=s,cv="keydown",cw="keyup";class cx{constructor(a,c,b={}){this.element=a,this.callback=c,this.options=Object.assign({enable:!0},b),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=cu.concat(b.events||[]),this.handleEvent=this.handleEvent.bind(this),a.tabIndex=b.tabIndex||0,a.style.outline="none",this.events.forEach(b=>a.addEventListener(b,this.handleEvent))}destroy(){this.events.forEach(a=>this.element.removeEventListener(a,this.handleEvent))}enableEventType(a,b){a===cv&&(this.enableDownEvent=b),a===cw&&(this.enableUpEvent=b)}handleEvent(a){let b=a.target||a.srcElement;("INPUT"!==b.tagName||"text"!==b.type)&&"TEXTAREA"!==b.tagName&&(this.enableDownEvent&&"keydown"===a.type&&this.callback({type:cv,srcEvent:a,key:a.key,target:a.target}),this.enableUpEvent&&"keyup"===a.type&&this.callback({type:cw,srcEvent:a,key:a.key,target:a.target}))}}let cy="contextmenu";class cz{constructor(a,b,c={}){this.element=a,this.callback=b,this.options=Object.assign({enable:!0},c),this.handleEvent=this.handleEvent.bind(this),a.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(a,b){a===cy&&(this.options.enable=b)}handleEvent(a){this.options.enable&&this.callback({type:cy,center:{x:a.clientX,y:a.clientY},srcEvent:a,pointerType:"mouse",target:a.target})}}let cA={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4},cB={srcElement:"root",priority:0};class cC{constructor(a){this.eventManager=a,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}isEmpty(){return!this._active}add(f,g,a,h=!1,i=!1){let{handlers:j,handlersByElement:e}=this;a&&("object"!=typeof a||a.addEventListener)&&(a={srcElement:a}),a=a?Object.assign({},cB,a):cB;let b=e.get(a.srcElement);b||(b=[],e.set(a.srcElement,b));let c={type:f,handler:g,srcElement:a.srcElement,priority:a.priority};h&&(c.once=!0),i&&(c.passive=!0),j.push(c),this._active=this._active||!c.passive;let d=b.length-1;for(;d>=0&&!(b[d].priority>=c.priority);)d--;b.splice(d+1,0,c)}remove(f,g){let{handlers:b,handlersByElement:e}=this;for(let c=b.length-1;c>=0;c--){let a=b[c];if(a.type===f&&a.handler===g){b.splice(c,1);let d=e.get(a.srcElement);d.splice(d.indexOf(a),1),0===d.length&&e.delete(a.srcElement)}}this._active=b.some(a=>!a.passive)}handleEvent(c){if(this.isEmpty())return;let b=this._normalizeEvent(c),a=c.srcEvent.target;for(;a&&a!==b.rootElement;){if(this._emit(b,a),b.handled)return;a=a.parentNode}this._emit(b,"root")}_emit(e,f){let a=this.handlersByElement.get(f);if(a){let g=!1,h=()=>{e.handled=!0},i=()=>{e.handled=!0,g=!0},c=[];for(let b=0;b<a.length;b++){let{type:j,handler:k,once:l}=a[b];if(k(Object.assign({},e,{type:j,stopPropagation:h,stopImmediatePropagation:i})),l&&c.push(a[b]),g)break}for(let d=0;d<c.length;d++){let{type:m,handler:n}=c[d];this.remove(m,n)}}}_normalizeEvent(a){let b=this.eventManager.element;return Object.assign({},a,function(h){let a=cA[h.srcEvent.type];if(!a)return null;let{buttons:b,button:f,which:g}=h.srcEvent,c=!1,d=!1,e=!1;return 4!==a&&(2!==a||Number.isFinite(b))?2===a?(c=Boolean(1&b),d=Boolean(4&b),e=Boolean(2&b)):1===a&&(c=0===f,d=1===f,e=2===f):(c=1===g,d=2===g,e=3===g),{leftButton:c,middleButton:d,rightButton:e}}(a),function(c,a){let{srcEvent:d}=c;if(!c.center&&!Number.isFinite(d.clientX))return null;let e=c.center||{x:d.clientX,y:d.clientY},b=a.getBoundingClientRect(),f=b.width/a.offsetWidth||1,g=b.height/a.offsetHeight||1,h={x:(e.x-b.left-a.clientLeft)/f,y:(e.y-b.top-a.clientTop)/g};return{center:e,offsetCenter:h}}(a,b),{handled:!1,rootElement:b})}}class cD{constructor(c=null,a={}){this.options=Object.assign({},{events:null,recognizers:null,recognizerOptions:{},Manager:cc,touchAction:"none",tabIndex:0},a),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(c);let{events:b}=a;b&&this.on(b)}setElement(a){if(this.element&&this.destroy(),this.element=a,!a)return;let{options:b}=this,g=b.Manager;for(let d in this.manager=new g(a,{touchAction:b.touchAction,recognizers:b.recognizers||cd}).on("hammer.input",this._onBasicInput),b.recognizers||Object.keys(ce).forEach(a=>{let b=this.manager.get(a);b&&ce[a].forEach(a=>{b.recognizeWith(a)})}),b.recognizerOptions){let e=this.manager.get(d);if(e){let f=b.recognizerOptions[d];delete f.enable,e.set(f)}}for(let[h,c]of(this.wheelInput=new cn(a,this._onOtherEvent,{enable:!1}),this.moveInput=new ct(a,this._onOtherEvent,{enable:!1}),this.keyInput=new cx(a,this._onOtherEvent,{enable:!1,tabIndex:b.tabIndex}),this.contextmenuInput=new cz(a,this._onOtherEvent,{enable:!1}),this.events))c.isEmpty()||(this._toggleRecognizer(c.recognizerName,!0),this.manager.on(h,c.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(a,b,c){this._addEventHandler(a,b,c,!1)}once(a,b,c){this._addEventHandler(a,b,c,!0)}watch(a,b,c){this._addEventHandler(a,b,c,!1,!0)}off(a,b){this._removeEventHandler(a,b)}_toggleRecognizer(a,b){let{manager:d}=this;if(!d)return;let c=d.get(a);if(c&&c.options.enable!==b){c.set({enable:b});let e=cf[a];e&&!this.options.recognizers&&e.forEach(e=>{let f=d.get(e);b?(f.requireFailure(a),c.dropRequireFailure(e)):f.dropRequireFailure(a)})}this.wheelInput.enableEventType(a,b),this.moveInput.enableEventType(a,b),this.keyInput.enableEventType(a,b),this.contextmenuInput.enableEventType(a,b)}_addEventHandler(b,e,d,f,g){if("string"!=typeof b){for(let h in d=e,b)this._addEventHandler(h,b[h],d,f,g);return}let{manager:i,events:j}=this,c=ci[b]||b,a=j.get(c);!a&&(a=new cC(this),j.set(c,a),a.recognizerName=ch[c]||c,i&&i.on(c,a.handleEvent)),a.add(b,e,d,f,g),a.isEmpty()||this._toggleRecognizer(a.recognizerName,!0)}_removeEventHandler(a,h){if("string"!=typeof a){for(let c in a)this._removeEventHandler(c,a[c]);return}let{events:d}=this,i=ci[a]||a,b=d.get(i);if(b&&(b.remove(a,h),b.isEmpty())){let{recognizerName:e}=b,f=!1;for(let g of d.values())if(g.recognizerName===e&&!g.isEmpty()){f=!0;break}f||this._toggleRecognizer(e,!1)}}_onBasicInput(a){let{srcEvent:c}=a,b=cg[c.type];b&&this.manager.emit(b,a)}_onOtherEvent(a){this.manager.emit(a.type,a)}}function cE(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function cF(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?cE(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):cE(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}var cG={transitionDuration:0},cH={transitionDuration:300,transitionEasing:function(a){return a},transitionInterpolator:new D,transitionInterruption:E.BREAK},cI=function(a){return 1-(1-a)*(1-a)},cJ={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},Z=function(){function a(){var b=this;bk(this,a),g(this,"events",[]),g(this,"scrollZoom",!0),g(this,"dragPan",!0),g(this,"dragRotate",!0),g(this,"doubleClickZoom",!0),g(this,"touchZoom",!0),g(this,"touchRotate",!1),g(this,"keyboard",!0),g(this,"_interactionState",{isDragging:!1}),g(this,"_events",{}),g(this,"_setInteractionState",function(a){Object.assign(b._interactionState,a),b.onStateChange&&b.onStateChange(b._interactionState)}),g(this,"_onTransition",function(a,c){b.onViewportChange(a,b._interactionState,c)}),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new F({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return bm(a,[{key:"handleEvent",value:function(a){this.mapState=this.getMapState();var b=this._eventStartBlocked;switch(a.type){case"panstart":return!b&&this._onPanStart(a);case"panmove":return this._onPan(a);case"panend":return this._onPanEnd(a);case"pinchstart":return!b&&this._onPinchStart(a);case"pinchmove":return this._onPinch(a);case"pinchend":return this._onPinchEnd(a);case"tripanstart":return!b&&this._onTriplePanStart(a);case"tripanmove":return this._onTriplePan(a);case"tripanend":return this._onTriplePanEnd(a);case"doubletap":return this._onDoubleTap(a);case"wheel":return this._onWheel(a);case"keydown":return this._onKeyDown(a);default:return!1}}},{key:"getCenter",value:function(b){var a=b.offsetCenter,c=a.x,d=a.y;return[c,d]}},{key:"isFunctionKeyPressed",value:function(b){var a=b.srcEvent;return Boolean(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}},{key:"blockEvents",value:function(a){var c=this,b=setTimeout(function(){c._eventStartBlocked===b&&(c._eventStartBlocked=null)},a);this._eventStartBlocked=b}},{key:"updateViewport",value:function(a,c,d){var e=this.mapState instanceof bE?this.mapState.getViewportProps():this.mapState,b=cF(cF({},a.getViewportProps()),c),f=Object.keys(b).some(function(a){return e[a]!==b[a]});this._state=a.getState(),this._setInteractionState(d),f&&this.onViewportChange(b,this._interactionState,e)}},{key:"getMapState",value:function(a){return new bE(cF(cF(cF({},this.mapStateProps),this._state),a))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(a){var u=a.onViewportChange,v=a.onStateChange,e=a.eventManager,f=void 0===e?this.eventManager:e,g=a.isInteractive,b=void 0===g||g,h=a.scrollZoom,i=void 0===h?this.scrollZoom:h,j=a.dragPan,k=void 0===j?this.dragPan:j,l=a.dragRotate,m=void 0===l?this.dragRotate:l,n=a.doubleClickZoom,o=void 0===n?this.doubleClickZoom:n,p=a.touchZoom,q=void 0===p?this.touchZoom:p,r=a.touchRotate,c=void 0===r?this.touchRotate:r,s=a.keyboard,t=void 0===s?this.keyboard:s;this.onViewportChange=u,this.onStateChange=v;var d=this.mapStateProps||{},w=d.height!==a.height||d.width!==a.width;this.mapStateProps=a,w&&(this.mapState=d,this.updateViewport(new bE(a))),this._transitionManager.processViewportChange(a),this.eventManager!==f&&(this.eventManager=f,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(cJ.WHEEL,b&&Boolean(i)),this.toggleEvents(cJ.PAN,b&&Boolean(k||m)),this.toggleEvents(cJ.PINCH,b&&Boolean(q||c)),this.toggleEvents(cJ.TRIPLE_PAN,b&&Boolean(c)),this.toggleEvents(cJ.DOUBLE_TAP,b&&Boolean(o)),this.toggleEvents(cJ.KEYBOARD,b&&Boolean(t)),this.scrollZoom=i,this.dragPan=k,this.dragRotate=m,this.doubleClickZoom=o,this.touchZoom=q,this.touchRotate=c,this.keyboard=t}},{key:"toggleEvents",value:function(a,b){var c=this;this.eventManager&&a.forEach(function(a){c._events[a]!==b&&(c._events[a]=b,b?c.eventManager.on(a,c.handleEvent):c.eventManager.off(a,c.handleEvent))})}},{key:"_onPanStart",value:function(a){var b=this.getCenter(a);this._panRotate=this.isFunctionKeyPressed(a)||a.rightButton;var c=this._panRotate?this.mapState.rotateStart({pos:b}):this.mapState.panStart({pos:b});return this.updateViewport(c,cG,{isDragging:!0}),!0}},{key:"_onPan",value:function(a){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(a):this._onPanMove(a))}},{key:"_onPanEnd",value:function(a){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(a):this._onPanMoveEnd(a))}},{key:"_onPanMove",value:function(a){if(!this.dragPan)return!1;var b=this.getCenter(a),c=this.mapState.pan({pos:b});return this.updateViewport(c,cG,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(a){if(this.dragPan){var c=this.dragPan.inertia,b=void 0===c?300:c;if(b&&a.velocity){var d=this.getCenter(a),e=[d[0]+a.velocityX*b/2,d[1]+a.velocityY*b/2],f=this.mapState.pan({pos:e}).panEnd();return this.updateViewport(f,cF(cF({},cH),{},{transitionDuration:b,transitionEasing:cI}),{isDragging:!1,isPanning:!0}),!0}}var g=this.mapState.panEnd();return this.updateViewport(g,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(a){if(!this.dragRotate)return!1;var b=this.getCenter(a),c=this.mapState.rotate({pos:b});return this.updateViewport(c,cG,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(a){if(this.dragRotate){var c=this.dragRotate.inertia,b=void 0===c?300:c;if(b&&a.velocity){var d=this.getCenter(a),e=[d[0]+a.velocityX*b/2,d[1]+a.velocityY*b/2],f=this.mapState.rotate({pos:e}).rotateEnd();return this.updateViewport(f,cF(cF({},cH),{},{transitionDuration:b,transitionEasing:cI}),{isDragging:!1,isRotating:!0}),!0}}var g=this.mapState.panEnd();return this.updateViewport(g,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(b){if(!this.scrollZoom)return!1;var c=this.scrollZoom,d=c.speed,e=c.smooth;b.preventDefault();var f=this.getCenter(b),g=b.delta,a=2/(1+Math.exp(-Math.abs(g*(void 0===d?.01:d))));g<0&&0!==a&&(a=1/a);var h=this.mapState.zoom({pos:f,scale:a});return h.getViewportProps().zoom!==this.mapStateProps.zoom&&(this.updateViewport(h,cF(cF({},cH),{},{transitionInterpolator:new D({around:f}),transitionDuration:void 0!==e&&e?250:1}),{isPanning:!0,isZooming:!0}),!0)}},{key:"_onPinchStart",value:function(a){var b=this.getCenter(a),c=this.mapState.zoomStart({pos:b}).rotateStart({pos:b});return this._startPinchRotation=a.rotation,this._lastPinchEvent=a,this.updateViewport(c,cG,{isDragging:!0}),!0}},{key:"_onPinch",value:function(b){if(!this.isDragging()|| !this.touchZoom&&!this.touchRotate)return!1;var a=this.mapState;if(this.touchZoom){var c=b.scale,d=this.getCenter(b);a=a.zoom({pos:d,scale:c})}if(this.touchRotate){var e=b.rotation;a=a.rotate({deltaAngleX:this._startPinchRotation-e})}return this.updateViewport(a,cG,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=b,!0}},{key:"_onPinchEnd",value:function(a){if(!this.isDragging())return!1;if(this.touchZoom){var e=this.touchZoom.inertia,b=void 0===e?300:e,c=this._lastPinchEvent;if(b&&c&&a.scale!==c.scale){var f=this.getCenter(a),d=this.mapState.rotateEnd(),g=Math.log2(a.scale),h=(g-Math.log2(c.scale))/(a.deltaTime-c.deltaTime),i=Math.pow(2,g+h*b/2);return d=d.zoom({pos:f,scale:i}).zoomEnd(),this.updateViewport(d,cF(cF({},cH),{},{transitionInterpolator:new D({around:f}),transitionDuration:b,transitionEasing:cI}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(b),!0}}var j=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(j,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(a){var b=this.getCenter(a),c=this.mapState.rotateStart({pos:b});return this.updateViewport(c,cG,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(a){if(!this.isDragging()||!this.touchRotate)return!1;var b=this.getCenter(a);b[0]-=a.deltaX;var c=this.mapState.rotate({pos:b});return this.updateViewport(c,cG,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(b){if(!this.isDragging())return!1;if(this.touchRotate){var c=this.touchRotate.inertia,a=void 0===c?300:c;if(a&&b.velocityY){var d=this.getCenter(b),e=[d[0],d[1]+=b.velocityY*a/2],f=this.mapState.rotate({pos:e});return this.updateViewport(f,cF(cF({},cH),{},{transitionDuration:a,transitionEasing:cI}),{isDragging:!1,isRotating:!0}),this.blockEvents(a),!1}}var g=this.mapState.rotateEnd();return this.updateViewport(g,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(a){if(!this.doubleClickZoom)return!1;var b=this.getCenter(a),c=this.isFunctionKeyPressed(a),d=this.mapState.zoom({pos:b,scale:c?.5:2});return this.updateViewport(d,Object.assign({},cH,{transitionInterpolator:new D({around:b})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(g){if(!this.keyboard)return!1;var b,c=this.isFunctionKeyPressed(g),d=this.keyboard,h=d.zoomSpeed,e=void 0===h?2:h,i=d.moveSpeed,f=void 0===i?100:i,j=d.rotateSpeedX,k=void 0===j?15:j,l=d.rotateSpeedY,m=void 0===l?10:l,a=this.mapStateProps;switch(g.srcEvent.keyCode){case 189:b=c?this.getMapState({zoom:a.zoom-Math.log2(e)-1}):this.getMapState({zoom:a.zoom-Math.log2(e)});break;case 187:b=c?this.getMapState({zoom:a.zoom+Math.log2(e)+1}):this.getMapState({zoom:a.zoom+Math.log2(e)});break;case 37:b=c?this.getMapState({bearing:a.bearing-k}):this.mapState.pan({pos:[f,0],startPos:[0,0]});break;case 39:b=c?this.getMapState({bearing:a.bearing+k}):this.mapState.pan({pos:[-f,0],startPos:[0,0]});break;case 38:b=c?this.getMapState({pitch:a.pitch+m}):this.mapState.pan({pos:[0,f],startPos:[0,0]});break;case 40:b=c?this.getMapState({pitch:a.pitch-m}):this.mapState.pan({pos:[0,-f],startPos:[0,0]});break;default:return!1}return this.updateViewport(b,cH)}}]),a}();function cK(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function cL(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?cK(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):cK(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}var $=Object.assign({},q.propTypes,{maxZoom:a.number,minZoom:a.number,maxPitch:a.number,minPitch:a.number,onViewStateChange:a.func,onViewportChange:a.func,onInteractionStateChange:a.func,transitionDuration:a.oneOfType([a.number,a.string]),transitionInterpolator:a.object,transitionInterruption:a.number,transitionEasing:a.func,onTransitionStart:a.func,onTransitionInterrupt:a.func,onTransitionEnd:a.func,scrollZoom:a.oneOfType([a.bool,a.object]),dragPan:a.oneOfType([a.bool,a.object]),dragRotate:a.oneOfType([a.bool,a.object]),doubleClickZoom:a.bool,touchZoom:a.oneOfType([a.bool,a.object]),touchRotate:a.oneOfType([a.bool,a.object]),keyboard:a.oneOfType([a.bool,a.object]),onHover:a.func,onClick:a.func,onDblClick:a.func,onContextMenu:a.func,onMouseDown:a.func,onMouseMove:a.func,onMouseUp:a.func,onTouchStart:a.func,onTouchMove:a.func,onTouchEnd:a.func,onMouseEnter:a.func,onMouseLeave:a.func,onMouseOut:a.func,onWheel:a.func,touchAction:a.string,eventRecognizerOptions:a.object,clickRadius:a.number,interactiveLayerIds:a.array,getCursor:a.func,controller:a.instanceOf(Z)}),_=Object.assign({},q.defaultProps,B,F.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(a){return a.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:function(a){var b=a.isDragging,c=a.isHovering;return b?"grabbing":c?"pointer":"grab"}});function cM(a){if(a.lngLat||!a.offsetCenter)return a;var b=a.offsetCenter,c=b.x,d=b.y;if(!Number.isFinite(c)||!Number.isFinite(d))return a;var e=[c,d];if(a.point=e,this.map){var f=this.map.unproject(e);a.lngLat=[f.lng,f.lat]}return a}function cN(a){var c=this.map;if(!c||!a)return null;var d={},b=this.props.clickRadius;this.props.interactiveLayerIds&&(d.layers=this.props.interactiveLayerIds);try{return c.queryRenderedFeatures(b?[[a[0]-b,a[1]+b],[a[0]+b,a[1]-b]]:a,d)}catch(e){return null}}function cO(b,c){var a=this.props[b];a&&a(cM.call(this,c))}function cP(a){cO.call(this,"touch"===a.pointerType?"onTouchStart":"onMouseDown",a)}function cQ(a){cO.call(this,"touch"===a.pointerType?"onTouchEnd":"onMouseUp",a)}function cR(a){if(cO.call(this,"touch"===a.pointerType?"onTouchMove":"onMouseMove",a),!this.state.isDragging){var b,f=this.props,c=f.onHover,g=f.interactiveLayerIds;a=cM.call(this,a),(g||c)&&(b=cN.call(this,a.point));var d=Boolean(g&&b&&b.length>0),e=d&&!this.state.isHovering,h=!d&&this.state.isHovering;(c||e)&&(a.features=b,c&&c(a)),e&&cO.call(this,"onMouseEnter",a),h&&cO.call(this,"onMouseLeave",a),(e||h)&&this.setState({isHovering:d})}}function cS(b){var c=this.props,d=c.onClick,f=c.onNativeClick,g=c.onDblClick,h=c.doubleClickZoom,a=[],e=g||h;switch(b.type){case"anyclick":a.push(f),e||a.push(d);break;case"click":e&&a.push(d);break;default:}(a=a.filter(Boolean)).length&&((b=cM.call(this,b)).features=cN.call(this,b.point),a.forEach(function(a){return a(b)}))}var m=(0,c.forwardRef)(function(b,h){var i,t,f=(0,c.useContext)(bJ),u=(0,c.useMemo)(function(){return b.controller||new Z},[]),v=(0,c.useMemo)(function(){return new cD(null,{touchAction:b.touchAction,recognizerOptions:b.eventRecognizerOptions})},[]),g=(0,c.useRef)(null),e=(0,c.useRef)(null),a=(0,c.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;a.props=b,a.map=e.current&&e.current.getMap(),a.setState=function(c){a.state=cL(cL({},a.state),c),g.current.style.cursor=b.getCursor(a.state)};var j=!0,k=function(b,c,d){if(j){i=[b,c,d];return}var e=a.props,f=e.onViewStateChange,g=e.onViewportChange;Object.defineProperty(b,"position",{get:function(){return[0,0,bL(a.map,b)]}}),f&&f({viewState:b,interactionState:c,oldViewState:d}),g&&g(b,c,d)};(0,c.useImperativeHandle)(h,function(){var a;return{getMap:(a=e).current&&a.current.getMap,queryRenderedFeatures:a.current&&a.current.queryRenderedFeatures}},[]);var d=(0,c.useMemo)(function(){return cL(cL({},f),{},{eventManager:v,container:f.container||g.current})},[f,g.current]);d.onViewportChange=k,d.viewport=f.viewport||bP(a),a.viewport=d.viewport;var w=function(b){var c=b.isDragging,d=void 0!==c&&c;if(d!==a.state.isDragging&&a.setState({isDragging:d}),j){t=b;return}var e=a.props.onInteractionStateChange;e&&e(b)},l=function(){a.width&&a.height&&u.setOptions(cL(cL(cL({},a.props),a.props.viewState),{},{isInteractive:Boolean(a.props.onViewStateChange||a.props.onViewportChange),onViewportChange:k,onStateChange:w,eventManager:v,width:a.width,height:a.height}))},m=function(b){var c=b.width,d=b.height;a.width=c,a.height=d,l(),a.props.onResize({width:c,height:d})};(0,c.useEffect)(function(){return v.setElement(g.current),v.on({pointerdown:cP.bind(a),pointermove:cR.bind(a),pointerup:cQ.bind(a),pointerleave:cO.bind(a,"onMouseOut"),click:cS.bind(a),anyclick:cS.bind(a),dblclick:cO.bind(a,"onDblClick"),wheel:cO.bind(a,"onWheel"),contextmenu:cO.bind(a,"onContextMenu")}),function(){v.destroy()}},[]),bK(function(){if(i){var a;k.apply(void 0,function(a){if(Array.isArray(a))return ax(a)}(a=i)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ay(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}t&&w(t)}),l();var n=b.width,o=b.height,p=b.style,r=b.getCursor,s=(0,c.useMemo)(function(){return cL(cL({position:"relative"},p),{},{width:n,height:o,cursor:r(a.state)})},[p,n,o,r,a.state]);return i&&a._child||(a._child=c.createElement(bI,{value:d},c.createElement("div",{key:"event-canvas",ref:g,style:s},c.createElement(q,aw({},b,{width:"100%",height:"100%",style:null,onResize:m,ref:e}))))),j=!1,a._child});m.supported=q.supported,m.propTypes=$,m.defaultProps=_;var cT=m;function cU(b,a){if(b===a)return!0;if(!b||!a)return!1;if(Array.isArray(b)){if(!Array.isArray(a)||b.length!==a.length)return!1;for(var c=0;c<b.length;c++)if(!cU(b[c],a[c]))return!1;return!0}if(Array.isArray(a))return!1;if("object"===bW(b)&&"object"===bW(a)){var f=Object.keys(b),h=Object.keys(a);if(f.length!==h.length)return!1;for(var d=0,g=f;d<g.length;d++){var e=g[d];if(!a.hasOwnProperty(e)||!cU(b[e],a[e]))return!1}return!0}return!1}function cV(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}var aa={type:a.string.isRequired,id:a.string},cW=0;function cX(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function cY(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?cX(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):cX(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}(function(a){var h=(0,c.useContext)(bJ),f=(0,c.useRef)({id:a.id,type:a.type}),i=(0,c.useState)(0),j=aA(i,2),k=j[1],e=(0,c.useMemo)(function(){return a.id||"jsx-source-".concat(cW++)},[]),b=h.map;(0,c.useEffect)(function(){if(b){var a=function(){return k(function(a){return a+1})};return b.on("styledata",a),function(){b.off("styledata",a),requestAnimationFrame(function(){b.style&&b.style._loaded&&b.getSource(e)&&b.removeSource(e)})}}},[b,e]);var d=b&&b.style&&b.getSource(e);return d?function(b,a,f){bA(a.id===f.id,"source id changed"),bA(a.type===f.type,"source type changed");var e="",g=0;for(var c in a)"children"!==c&&"id"!==c&&!cU(f[c],a[c])&&(e=c,g++);if(g){var d=a.type;if("geojson"===d)b.setData(a.data);else if("image"===d)b.updateImage({url:a.url,coordinates:a.coordinates});else if(("canvas"===d||"video"===d)&&1===g&&"coordinates"===e)b.setCoordinates(a.coordinates);else if("vector"===d&&b.setUrl)switch(e){case"url":b.setUrl(a.url);break;case"tiles":b.setTiles(a.tiles);break;default:}else console.warn("Unable to update <Source> prop: ".concat(e))}}(d,a,f.current):d=function(a,c,d){if(a.style&&a.style._loaded){var b=function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?cV(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):cV(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({},d);return delete b.id,delete b.children,a.addSource(c,b),a.getSource(c)}return null}(b,e,a),f.current=a,d&&c.Children.map(a.children,function(a){return a&&(0,c.cloneElement)(a,{source:e})})||null}).propTypes=aa;var ab={type:a.oneOf(["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade","sky"]).isRequired,id:a.string,source:a.string,beforeId:a.string},cZ=0;(function(b){var f=(0,c.useContext)(bJ),e=(0,c.useRef)({id:b.id,type:b.type}),g=(0,c.useState)(0),h=aA(g,2),j=h[1],d=(0,c.useMemo)(function(){return b.id||"jsx-layer-".concat(cZ++)},[]),a=f.map;(0,c.useEffect)(function(){if(a){var b=function(){return j(function(a){return a+1})};return a.on("styledata",b),function(){a.off("styledata",b),a.style&&a.style._loaded&&a.removeLayer(d)}}},[a]);var i=a&&a.style&&a.getLayer(d);return i?function(c,d,a,b){bA(a.id===b.id,"layer id changed"),bA(a.type===b.type,"layer type changed");try{!function(b,c,d,a){var k=d.layout,e=void 0===k?{}:k,l=d.paint,f=void 0===l?{}:l,m=d.filter,n=d.minzoom,o=d.maxzoom,p=d.beforeId,j=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(d,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(p!==a.beforeId&&b.moveLayer(c,p),e!==a.layout){var q=a.layout||{};for(var g in e)cU(e[g],q[g])||b.setLayoutProperty(c,g,e[g]);for(var r in q)e.hasOwnProperty(r)||b.setLayoutProperty(c,r,void 0)}if(f!==a.paint){var s=a.paint||{};for(var h in f)cU(f[h],s[h])||b.setPaintProperty(c,h,f[h]);for(var t in s)f.hasOwnProperty(t)||b.setPaintProperty(c,t,void 0)}for(var i in cU(m,a.filter)||b.setFilter(c,m),(n!==a.minzoom||o!==a.maxzoom)&&b.setLayerZoomRange(c,n,o),j)cU(j[i],a[i])||b.setLayerProperty(c,i,j[i])}(c,d,a,b)}catch(e){console.warn(e)}}(a,d,b,e.current):function(a,d,b){if(a.style&&a.style._loaded){var c=cY(cY({},b),{},{id:d});delete c.beforeId,a.addLayer(c,b.beforeId)}}(a,d,b),e.current=b,null}).propTypes=ab;var f={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},d={captureScroll:a.bool,captureDrag:a.bool,captureClick:a.bool,captureDoubleClick:a.bool,capturePointerMove:a.bool};function c$(){var d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},a=(0,c.useContext)(bJ),e=(0,c.useRef)(null),f=(0,c.useRef)({props:d,state:{},context:a,containerRef:e}),b=f.current;return b.props=d,b.context=a,(0,c.useEffect)(function(){return function(a){var b=a.containerRef.current,c=a.context.eventManager;if(b&&c){var d={wheel:function(c){var b=a.props;b.captureScroll&&c.stopPropagation(),b.onScroll&&b.onScroll(c,a)},panstart:function(c){var b=a.props;b.captureDrag&&c.stopPropagation(),b.onDragStart&&b.onDragStart(c,a)},anyclick:function(c){var b=a.props;b.captureClick&&c.stopPropagation(),b.onNativeClick&&b.onNativeClick(c,a)},click:function(c){var b=a.props;b.captureClick&&c.stopPropagation(),b.onClick&&b.onClick(c,a)},dblclick:function(c){var b=a.props;b.captureDoubleClick&&c.stopPropagation(),b.onDoubleClick&&b.onDoubleClick(c,a)},pointermove:function(c){var b=a.props;b.capturePointerMove&&c.stopPropagation(),b.onPointerMove&&b.onPointerMove(c,a)}};return c.watch(d,b),function(){c.off(d)}}}(b)},[a.eventManager]),b}function c_(b){var a=b.instance,c=c$(b),d=c.context,e=c.containerRef;return a._context=d,a._containerRef=e,a._render()}var H=function(b){bV(a,b);var d,e,f=(d=a,e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b=bY(d);if(e){var c=bY(this).constructor;a=Reflect.construct(b,arguments,c)}else a=b.apply(this,arguments);return bX(this,a)});function a(){var b;bk(this,a);for(var e=arguments.length,h=new Array(e),d=0;d<e;d++)h[d]=arguments[d];return g(bT(b=f.call.apply(f,[this].concat(h))),"_context",{}),g(bT(b),"_containerRef",(0,c.createRef)()),g(bT(b),"_onScroll",function(a){}),g(bT(b),"_onDragStart",function(a){}),g(bT(b),"_onDblClick",function(a){}),g(bT(b),"_onClick",function(a){}),g(bT(b),"_onPointerMove",function(a){}),b}return bm(a,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return c.createElement(c_,aw({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),a}(c.PureComponent);function c0(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function c1(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?c0(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):c0(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}g(H,"propTypes",d),g(H,"defaultProps",f);var ac=Object.assign({},d,{draggable:a.bool,onDrag:a.func,onDragEnd:a.func,onDragStart:a.func,offsetLeft:a.number,offsetTop:a.number}),ad=Object.assign({},f,{draggable:!1,offsetLeft:0,offsetTop:0});function c2(b){var a=b.offsetCenter,c=a.x,d=a.y;return[c,d]}function c3(a,b,c,d){var e=a[0]+b[0]-c.offsetLeft,f=a[1]+b[1]-c.offsetTop;return d.viewport.unproject([e,f])}function c4(b,a){var d=a.props,e=a.callbacks,f=a.state,i=a.context,j=a.containerRef,k=d.draggable;if(k){b.stopPropagation();var g=c2(b),c=function(d,a){var b=d.center,e=b.x,f=b.y;if(a){var c=a.getBoundingClientRect();return[c.left-e,c.top-f]}return null}(b,j.current);if(f.setDragPos(g),f.setDragOffset(c),e.onDragStart&&c){var h=Object.assign({},b);h.lngLat=c3(g,c,d,i),e.onDragStart(h)}}}var c5="undefined"!=typeof window&&window.devicePixelRatio||1,c6=function(a){return Math.round(a*c5)/c5},c7=function(a,b){var d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"x";if(null===a)return b;var c="x"===d?a.offsetWidth:a.offsetHeight;return c6(b/100*c)/c*100};function c8(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}var ae=Object.assign({},ac,{className:a.string,longitude:a.number.isRequired,latitude:a.number.isRequired,style:a.object}),af=Object.assign({},ad,{className:""});function t(b){var d,j,e,k,f,l,m,a,h=(d=b,e=(j=aA((0,c.useState)(null),2))[0],k=j[1],f=aA((0,c.useState)(null),2),l=f[0],m=f[1],a=c$(c1(c1({},d),{},{onDragStart:c4})),a.callbacks=d,a.state.dragPos=e,a.state.setDragPos=k,a.state.dragOffset=l,a.state.setDragOffset=m,(0,c.useEffect)(function(){return function(a){var b=a.context.eventManager;if(b&&a.state.dragPos){var c={panmove:function(b){return function(b,a){var h=a.props,c=a.callbacks,d=a.state,i=a.context;b.stopPropagation();var e=c2(b);d.setDragPos(e);var f=d.dragOffset;if(c.onDrag&&f){var g=Object.assign({},b);g.lngLat=c3(e,f,h,i),c.onDrag(g)}}(b,a)},panend:function(b){return function(c,a){var h=a.props,d=a.callbacks,b=a.state,i=a.context;c.stopPropagation();var e=b.dragPos,f=b.dragOffset;if(b.setDragPos(null),b.setDragOffset(null),d.onDragEnd&&e&&f){var g=Object.assign({},c);g.lngLat=c3(e,f,h,i),d.onDragEnd(g)}}(b,a)},pancancel:function(d){var c,b;return c=d,b=a.state,void(c.stopPropagation(),b.setDragPos(null),b.setDragOffset(null))}};return b.watch(c),function(){b.off(c)}}}(a)},[a.context.eventManager,Boolean(e)]),a),o=h.state,p=h.containerRef,q=b.children,r=b.className,s=b.draggable,A=b.style,t=o.dragPos,u=function(b){var a=b.props,e=b.state,f=b.context,g=a.longitude,h=a.latitude,j=a.offsetLeft,k=a.offsetTop,c=e.dragPos,d=e.dragOffset,l=f.viewport,m=f.map;if(c&&d)return[c[0]+d[0],c[1]+d[1]];var n=bL(m,{longitude:g,latitude:h}),i=aA(l.project([g,h,n]),2),o=i[0],p=i[1];return[o+=j,p+=k]}(h),n=aA(u,2),v=n[0],w=n[1],x="translate(".concat(c6(v),"px, ").concat(c6(w),"px)"),y=s?t?"grabbing":"grab":"auto",z=(0,c.useMemo)(function(){var a=function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?c8(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):c8(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute",left:0,top:0,transform:x,cursor:y},A);return c.createElement("div",{className:"mapboxgl-marker ".concat(r),ref:h.containerRef,style:a},q)},[q,r]),i=p.current;return i&&(i.style.transform=x,i.style.cursor=y),z}t.defaultProps=af,t.propTypes=ae,c.memo(t);var I={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},c9=Object.keys(I),ag=Object.assign({},d,{className:a.string,longitude:a.number.isRequired,latitude:a.number.isRequired,altitude:a.number,offsetLeft:a.number,offsetTop:a.number,tipSize:a.number,closeButton:a.bool,closeOnClick:a.bool,anchor:a.oneOf(Object.keys(I)),dynamicPosition:a.bool,sortByDepth:a.bool,onClose:a.func}),ah=Object.assign({},f,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function u(a){var j=(0,c.useRef)(null),t=c$(a),k=t.context,u=t.containerRef,T=aA((0,c.useState)(!1),2)[1];(0,c.useEffect)(function(){T(!0)},[j.current]),(0,c.useEffect)(function(){if(k.eventManager&&a.closeOnClick){var b=function(){return t.props.onClose()};return k.eventManager.on("anyclick",b),function(){k.eventManager.off("anyclick",b)}}},[k.eventManager,a.closeOnClick]);var l=k.viewport,M=k.map,N=a.className,v=a.longitude,w=a.latitude,O=a.tipSize,P=a.closeButton,Q=a.children,m=a.altitude;void 0===m&&(m=bL(M,{longitude:v,latitude:w}));var b,n,d,x,y,z,o,A,B,e,p,q,C,D,r,f,g,h,E,F,G,s,H,J,i,K=l.project([v,w,m]),L=(b=a,n=l,d=j.current,y=(x=aA(K,2))[0],z=x[1],o=b.anchor,A=b.dynamicPosition,B=b.tipSize,d&&A?function(c){var m=c.x,n=c.y,o=c.width,p=c.height,g=c.selfWidth,h=c.selfHeight,q=c.anchor,r=c.padding,d=void 0===r?0:r,s=I[q],a=s.x,b=s.y,i=n-b*h,k=i+h,e=Math.max(0,d-i)+Math.max(0,k-p+d);if(e>0){var t=b,u=e;for(b=0;b<=1;b+=.5)k=(i=n-b*h)+h,e=Math.max(0,d-i)+Math.max(0,k-p+d),e<u&&(u=e,t=b);b=t}var v=.5;.5===b&&(a=Math.floor(a),v=1);var j=m-a*g,l=j+g,f=Math.max(0,d-j)+Math.max(0,l-o+d);if(f>0){var w=a,x=f;for(a=0;a<=1;a+=v)l=(j=m-a*g)+g,f=Math.max(0,d-j)+Math.max(0,l-o+d),f<x&&(x=f,w=a);a=w}return c9.find(function(d){var c=I[d];return c.x===a&&c.y===b})||q}({x:y,y:z,anchor:o,padding:B,width:n.width,height:n.height,selfWidth:d.clientWidth,selfHeight:d.clientHeight}):o),R=(e=a,p=l,q=u.current,C=K,D=L,f=(r=aA(C,3))[0],g=r[1],h=r[2],E=e.offsetLeft,F=e.offsetTop,G=e.sortByDepth,s=I[D],H=c7(q,-(100*s.x)),J=c7(q,-(100*s.y),"y"),i={position:"absolute",transform:"\n      translate(".concat(H,"%, ").concat(J,"%)\n      translate(").concat(c6(f+E),"px, ").concat(c6(g+F),"px)\n    "),display:void 0,zIndex:void 0},G&&(h>1||h< -1||f<0||f>p.width||g<0||g>p.height?i.display="none":i.zIndex=Math.floor((1-h)/2*1e5)),i),S=(0,c.useCallback)(function(b){t.props.onClose();var a=t.context.eventManager;a&&a.once("click",function(a){return a.stopPropagation()},b.target)},[]);return c.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(L," ").concat(N),style:R,ref:u},c.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:O}}),c.createElement("div",{key:"content",ref:j,className:"mapboxgl-popup-content"},P&&c.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:S},"\xd7"),Q))}function da(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}u.propTypes=ag,u.defaultProps=ah,c.memo(u);var ai=Object.assign({},d,{toggleLabel:a.string,className:a.string,style:a.object,compact:a.bool,customAttribution:a.oneOfType([a.string,a.arrayOf(a.string)])}),aj=Object.assign({},f,{className:"",toggleLabel:"Toggle Attribution"});function v(a){var b=c$(a),d=b.context,i=b.containerRef,j=(0,c.useRef)(null),e=aA((0,c.useState)(!1),2),f=e[0],m=e[1];(0,c.useEffect)(function(){var h,e,c,f,g,b;return d.map&&(h=(e={customAttribution:a.customAttribution},c=d.map,f=i.current,g=j.current,(b=new(A()).AttributionControl(e))._map=c,b._container=f,b._innerContainer=g,b._updateAttributions(),b._updateEditLink(),c.on("styledata",b._updateData),c.on("sourcedata",b._updateData),b)),function(){var a;return h&&void((a=h)._map.off("styledata",a._updateData),a._map.off("sourcedata",a._updateData))}},[d.map]);var h=void 0===a.compact?d.viewport.width<=640:a.compact;(0,c.useEffect)(function(){!h&&f&&m(!1)},[h]);var k=(0,c.useCallback)(function(){return m(function(a){return!a})},[]),l=(0,c.useMemo)(function(){return function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?da(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):da(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute"},a.style)},[a.style]);return c.createElement("div",{style:l,className:a.className},c.createElement("div",{ref:i,"aria-pressed":f,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(h?"mapboxgl-compact":""," ").concat(f?"mapboxgl-compact-show":"")},c.createElement("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:a.toggleLabel,onClick:k}),c.createElement("div",{ref:j,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}function db(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}v.propTypes=ai,v.defaultProps=aj,c.memo(v);var ak=Object.assign({},d,{className:a.string,style:a.object,container:a.object,label:a.string}),al=Object.assign({},f,{className:"",container:null,label:"Toggle fullscreen"});function w(a){var b=c$(a),q=b.context,i=b.containerRef,d=aA((0,c.useState)(!1),2),j=d[0],r=d[1],k=(0,c.useState)(!1),e=aA(k,2),l=e[0],s=e[1],m=(0,c.useState)(null),f=aA(m,2),t=f[0],u=f[1];(0,c.useEffect)(function(){var a=new(A()).FullscreenControl;u(a),s(a._checkFullscreenSupport());var b=function(){var b=!a._fullscreen;a._fullscreen=b,r(b)};return P.addEventListener(a._fullscreenchange,b),function(){P.removeEventListener(a._fullscreenchange,b)}},[]);var n=(0,c.useMemo)(function(){return function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?db(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):db(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute"},a.style)},[a.style]);if(!l)return null;var o=a.className,p=a.label,h=j?"shrink":"fullscreen";return c.createElement("div",{style:n,className:o},c.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:i},c.createElement("button",{key:h,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(h),type:"button",title:p,onClick:function(){t&&(t._container=a.container||q.container,t._onClickFullscreen())}},c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}function dc(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}w.propTypes=ak,w.defaultProps=al,c.memo(w);var dd=function(){},am=Object.assign({},d,{className:a.string,style:a.object,label:a.string,disabledLabel:a.string,auto:a.bool,positionOptions:a.object,fitBoundsOptions:a.object,trackUserLocation:a.bool,showUserLocation:a.bool,showAccuracyCircle:a.bool,showUserHeading:a.bool,onViewStateChange:a.func,onViewportChange:a.func,onGeolocate:a.func}),an=Object.assign({},f,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showUserHeading:!1,showAccuracyCircle:!0,onGeolocate:function(){}});function x(a){var d=c$(a),e=d.context,l=d.containerRef,m=(0,c.useRef)(null),f=aA((0,c.useState)(null),2),h=f[0],r=f[1],i=aA((0,c.useState)(!1),2),b=i[0],s=i[1];(0,c.useEffect)(function(){var b;return e.map&&(void 0!==az?Promise.resolve(az):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(function(a){return az="denied"!==a.state}):(az=Boolean(window.navigator.geolocation),Promise.resolve(az))).then(function(j){if(s(j),m.current){var f,g,i,c,h;(b=(f=e,g=a,i=m.current,(c=new(A()).GeolocateControl(g))._container=P.createElement("div"),c._map={on:function(){},_getUIString:function(){return""}},c._setupUI(!0),c._map=f.map,c._geolocateButton=i,h=f.eventManager,c.options.trackUserLocation&&h&&h.on("panstart",function(){"ACTIVE_LOCK"===c._watchState&&(c._watchState="BACKGROUND",i.classList.add("mapboxgl-ctrl-geolocate-background"),i.classList.remove("mapboxgl-ctrl-geolocate-active"))}),c.on("geolocate",g.onGeolocate),c))._updateCamera=function(t){var h,i,a,c,e,j,k,b,l,f,m,n,o,p,q,g,r,s;return h=t,a=(i=d).context,c=i.props,l=(e=h,j=new(A()).LngLat(e.coords.longitude,e.coords.latitude),k=e.coords.accuracy,b=j.toBounds(k),[[b._ne.lng,b._ne.lat],[b._sw.lng,b._sw.lat]]),f=a.viewport.fitBounds(l,c.fitBoundsOptions),m=f.longitude,n=f.latitude,o=f.zoom,p=Object.assign({},a.viewport,{longitude:m,latitude:n,zoom:o}),q=new bE(p),g=Object.assign({},q.getViewportProps(),cH),r=c.onViewportChange||a.onViewportChange||dd,s=c.onViewStateChange||a.onViewStateChange||dd,void(s({viewState:g}),r(g))},r(b)}}),function(){b&&b._clearWatch()}},[e.map]);var n=(0,c.useCallback)(function(){h&&(h.options=d.props,h.trigger())},[h]);(0,c.useEffect)(function(){a.auto&&n()},[h,a.auto]),(0,c.useEffect)(function(){h&&h._onZoom()},[e.viewport.zoom]);var o=a.className,j=a.label,k=a.disabledLabel,p=a.trackUserLocation,q=(0,c.useMemo)(function(){return function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?dc(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):dc(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute"},a.style)},[a.style]);return c.createElement("div",{style:q,className:o},c.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:l},c.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:m,disabled:!b,"aria-pressed":!p,type:"button",title:b?j:k,"aria-label":b?j:k,onClick:n},c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}function de(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}x.propTypes=am,x.defaultProps=an,c.memo(x);var df=function(){},ao=Object.assign({},d,{className:a.string,style:a.object,onViewStateChange:a.func,onViewportChange:a.func,showCompass:a.bool,showZoom:a.bool,zoomInLabel:a.string,zoomOutLabel:a.string,compassLabel:a.string}),ap=Object.assign({},f,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function dg(a,b,d){var e=a.viewport,f=new bE(Object.assign({},e,d)),c=Object.assign({},f.getViewportProps(),cH),g=b.onViewportChange||a.onViewportChange||df,h=b.onViewStateChange||a.onViewStateChange||df;h({viewState:c}),g(c)}function dh(a,b,d,e){return c.createElement("button",{key:a,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(a),type:"button",title:b,onClick:d},e||c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function y(a){var b,e,f,d,h=c$(a),j=h.context,k=h.containerRef,l=a.className,m=a.showCompass,i=a.showZoom,n=a.zoomInLabel,o=a.zoomOutLabel,p=a.compassLabel,q=(0,c.useMemo)(function(){return function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?de(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):de(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute"},a.style)},[a.style]);return c.createElement("div",{style:q,className:l},c.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:k},i&&dh("zoom-in",n,function(){dg(j,a,{zoom:j.viewport.zoom+1})}),i&&dh("zoom-out",o,function(){dg(j,a,{zoom:j.viewport.zoom-1})}),m&&dh("compass",p,function(){dg(j,a,{bearing:0,pitch:0})},(b=j,e=(0,c.useMemo)(function(){return b.map?function(d,e){for(var f=(d||"").split(".").map(Number),g=(e||"").split(".").map(Number),a=0;a<3;a++){var b=f[a]||0,c=g[a]||0;if(b<c)return -1;if(b>c)return 1}return 0}(b.map.version,"1.6.0")>=0?2:1:2},[b.map]),f=b.viewport.bearing,d={transform:"rotate(".concat(-f,"deg)")},2===e?c.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:d}):c.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:d})))))}function di(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}y.propTypes=ao,y.defaultProps=ap,c.memo(y);var aq=Object.assign({},d,{className:a.string,style:a.object,maxWidth:a.number,unit:a.oneOf(["imperial","metric","nautical"])}),ar=Object.assign({},f,{className:"",maxWidth:100,unit:"metric"});function z(a){var d=c$(a),f=d.context,h=d.containerRef,e=aA((0,c.useState)(null),2),b=e[0],j=e[1];(0,c.useEffect)(function(){if(f.map){var a=new(A()).ScaleControl;a._map=f.map,a._container=h.current,j(a)}},[f.map]),b&&(b.options=a,b._onMove());var i=(0,c.useMemo)(function(){return function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?di(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):di(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute"},a.style)},[a.style]);return c.createElement("div",{style:i,className:a.className},c.createElement("div",{ref:h,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}z.propTypes=aq,z.defaultProps=ar,c.memo(z);var dj="undefined"!=typeof window&&window.devicePixelRatio||1,as=Object.assign({},d,{redraw:a.func.isRequired});function J(d){var e=c$(d),f=e.context,h=e.containerRef,g=aA((0,c.useState)(null),2),b=g[0],j=g[1];(0,c.useEffect)(function(){j(h.current.getContext("2d"))},[]);var a=f.viewport,i=f.isDragging;return b&&(b.save(),b.scale(dj,dj),d.redraw({width:a.width,height:a.height,ctx:b,isDragging:i,project:a.project,unproject:a.unproject}),b.restore()),c.createElement("canvas",{ref:h,width:a.width*dj,height:a.height*dj,style:{width:"".concat(a.width,"px"),height:"".concat(a.height,"px"),position:"absolute",left:0,top:0}})}function dk(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}J.propTypes=as,J.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};var at=Object.assign({},d,{redraw:a.func.isRequired,style:a.object});function K(b){var d=c$(b),e=d.context,f=d.containerRef,a=e.viewport,h=e.isDragging,i=function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?dk(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):dk(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute",left:0,top:0,width:a.width,height:a.height},b.style);return c.createElement("div",{ref:f,style:i},b.redraw({width:a.width,height:a.height,isDragging:h,project:a.project,unproject:a.unproject}))}function dl(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}K.propTypes=at,K.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};var au=Object.assign({},d,{redraw:a.func.isRequired,style:a.object});function L(b){var d=c$(b),e=d.context,f=d.containerRef,a=e.viewport,h=e.isDragging,i=function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?dl(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):dl(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({position:"absolute",left:0,top:0},b.style);return c.createElement("svg",{width:a.width,height:a.height,ref:f,style:i},b.redraw({width:a.width,height:a.height,isDragging:h,project:a.project,unproject:a.unproject}))}L.propTypes=au,L.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1},A()&&A().setRTLTextPlugin}}])
