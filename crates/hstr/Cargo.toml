[package]
authors     = ["강동윤 <kdy1997.dev@gmail.com>"]
description = "A string type which is optimized for hash operations."
edition     = { workspace = true }
license     = { workspace = true }
name        = "hstr"
repository  = { workspace = true }
version     = "3.0.1"

[lib]
bench = false


[features]
atom_size_128 = []
atom_size_64  = []
rkyv          = ["dep:rkyv"]
serde         = ["dep:serde"]

[dependencies]
hashbrown             = { workspace = true, default-features = false }
new_debug_unreachable = { workspace = true, default-features = false }
once_cell             = { workspace = true, default-features = false }
rkyv                  = { workspace = true, optional = true, default-features = false }
rustc-hash            = { workspace = true, default-features = false, features = ["std"] }
serde                 = { workspace = true, optional = true, default-features = false }
triomphe              = { workspace = true, default-features = false }


[dev-dependencies]
compact_str  = { workspace = true, default-features = true }
criterion    = { workspace = true, default-features = true }
kstring      = { workspace = true, default-features = true, features = ["std"] }
num_cpus     = { workspace = true, default-features = true }
par-iter     = { workspace = true, default-features = true }
rand         = { workspace = true, default-features = true }
serde_json   = { workspace = true, default-features = true }
smartstring  = { workspace = true, default-features = true }
smol_str     = { workspace = true, default-features = true }
string_cache = { workspace = true, default-features = true }

swc_malloc = { version = "1.2.4", path = "../swc_malloc", default-features = false }

[[bench]]
harness = false
name    = "libs"
