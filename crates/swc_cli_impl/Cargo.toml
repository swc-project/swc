[package]
authors     = ["강동윤 <kdy1997.dev@gmail.com>", "OJ Kwon <kwon.ohjoong@gmail.com>"]
description = "Commandline for SWC (Internal crate with implementation)"
edition     = { workspace = true }
include     = ["Cargo.toml", "src/**/*.rs"]
license     = { workspace = true }
name        = "swc_cli_impl"
repository  = { workspace = true }
version     = "56.0.0"

[[bin]]
name = "swc"
path = "src/main.rs"

[lib]
crate-type = ["rlib"]
path       = "src/lib.rs"

[features]
default = []
plugin = [
  "swc_core/plugin_backend_wasmer",
  "swc_core/plugin_transform_host_native",
  "swc_core/plugin_transform_host_native_filesystem_cache",
]

[dependencies]
anyhow = { workspace = true, default-features = false }
clap = { version = "3.2.25", features = [
  "derive",
  "wrap_help",
  "std",
], default-features = false }
glob = { workspace = true, default-features = false }
par-core = { workspace = true, features = ["chili"], default-features = false }
par-iter = { workspace = true, default-features = false }
path-absolutize = { workspace = true, features = [
  "once_cell_cache",
], default-features = false }
relative-path = { workspace = true, default-features = false }
serde_json = { workspace = true, features = [
  "unbounded_depth",
], default-features = false }
tracing = { workspace = true, default-features = false }
tracing-chrome = { workspace = true, default-features = false }
tracing-subscriber = { workspace = true, features = [
  "env-filter",
], default-features = false }
walkdir = { workspace = true, default-features = false }

swc_core = { version = "56.0.0", features = [
  "trace_macro",
  "common_concurrent",
  "base_concurrent",
  "base_module",
], path = "../swc_core" }

[dev-dependencies]
assert_cmd = { workspace = true, default-features = false }
assert_fs  = { workspace = true, default-features = false }
