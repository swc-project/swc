error: ShouldIncludeUndefinedType {
    span: Span {
        lo: BytePos(
            163,
        ),
        hi: BytePos(
            166,
        ),
        ctxt: #0,
    },
}
 --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:6:5
  |
6 | var num: number;
  |     ^^^

error: ShouldIncludeUndefinedType {
    span: Span {
        lo: BytePos(
            181,
        ),
        hi: BytePos(
            189,
        ),
        ctxt: #0,
    },
}
 --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:7:5
  |
7 | var strOrNum: string | number;
  |     ^^^^^^^^

error: ShouldIncludeUndefinedType {
    span: Span {
        lo: BytePos(
            644,
        ),
        hi: BytePos(
            646,
        ),
        ctxt: #0,
    },
}
  --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:21:5
   |
21 | var c1: C1;
   |     ^^

error: AssignFailed {
    left: TsUnionOrIntersectionType(
        TsUnionType(
            TsUnionType {
                span: Span {
                    lo: BytePos(
                        191,
                    ),
                    hi: BytePos(
                        206,
                    ),
                    ctxt: #0,
                },
                types: [
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                ],
            },
        ),
    ),
    right: TsIndexedAccessType(
        TsIndexedAccessType {
            span: Span {
                lo: BytePos(
                    696,
                ),
                hi: BytePos(
                    700,
                ),
                ctxt: #0,
            },
            obj_type: TsTypeRef(
                TsTypeRef {
                    span: Span {
                        lo: BytePos(
                            648,
                        ),
                        hi: BytePos(
                            650,
                        ),
                        ctxt: #0,
                    },
                    type_name: Ident(
                        Ident {
                            span: Span {
                                lo: BytePos(
                                    648,
                                ),
                                hi: BytePos(
                                    650,
                                ),
                                ctxt: #0,
                            },
                            sym: Atom('C1' type=inline),
                            type_ann: None,
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
            index_type: TsKeywordType(
                TsKeywordType {
                    span: Span {
                        lo: BytePos(
                            696,
                        ),
                        hi: BytePos(
                            700,
                        ),
                        ctxt: #0,
                    },
                    kind: TsStringKeyword,
                },
            ),
        },
    ),
    cause: [
        UnionError {
            span: Span {
                lo: BytePos(
                    191,
                ),
                hi: BytePos(
                    206,
                ),
                ctxt: #0,
            },
            errors: [
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    696,
                                ),
                                hi: BytePos(
                                    700,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeRef(
                                TsTypeRef {
                                    span: Span {
                                        lo: BytePos(
                                            648,
                                        ),
                                        hi: BytePos(
                                            650,
                                        ),
                                        ctxt: #0,
                                    },
                                    type_name: Ident(
                                        Ident {
                                            span: Span {
                                                lo: BytePos(
                                                    648,
                                                ),
                                                hi: BytePos(
                                                    650,
                                                ),
                                                ctxt: #0,
                                            },
                                            sym: Atom('C1' type=inline),
                                            type_ann: None,
                                            optional: false,
                                        },
                                    ),
                                    type_params: None,
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            696,
                                        ),
                                        hi: BytePos(
                                            700,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    696,
                                ),
                                hi: BytePos(
                                    700,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeRef(
                                TsTypeRef {
                                    span: Span {
                                        lo: BytePos(
                                            648,
                                        ),
                                        hi: BytePos(
                                            650,
                                        ),
                                        ctxt: #0,
                                    },
                                    type_name: Ident(
                                        Ident {
                                            span: Span {
                                                lo: BytePos(
                                                    648,
                                                ),
                                                hi: BytePos(
                                                    650,
                                                ),
                                                ctxt: #0,
                                            },
                                            sym: Atom('C1' type=inline),
                                            type_ann: None,
                                            optional: false,
                                        },
                                    ),
                                    type_params: None,
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            696,
                                        ),
                                        hi: BytePos(
                                            700,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
            ],
        },
    ],
}
  --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:7:15
   |
7  |   var strOrNum: string | number;
   |  _______________^
8  | | class C1 {
9  | |     private pp1: string | number;
10 | |     pp2: string | number;
...  |
21 | | var c1: C1;
22 | | strOrNum = typeof c1.pp2 === "string" && c1.pp2; // string | number
   | |_______________________________________________^

error: AssignFailed {
    left: TsUnionOrIntersectionType(
        TsUnionType(
            TsUnionType {
                span: Span {
                    lo: BytePos(
                        191,
                    ),
                    hi: BytePos(
                        206,
                    ),
                    ctxt: #0,
                },
                types: [
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                ],
            },
        ),
    ),
    right: TsIndexedAccessType(
        TsIndexedAccessType {
            span: Span {
                lo: BytePos(
                    765,
                ),
                hi: BytePos(
                    769,
                ),
                ctxt: #0,
            },
            obj_type: TsTypeRef(
                TsTypeRef {
                    span: Span {
                        lo: BytePos(
                            648,
                        ),
                        hi: BytePos(
                            650,
                        ),
                        ctxt: #0,
                    },
                    type_name: Ident(
                        Ident {
                            span: Span {
                                lo: BytePos(
                                    648,
                                ),
                                hi: BytePos(
                                    650,
                                ),
                                ctxt: #0,
                            },
                            sym: Atom('C1' type=inline),
                            type_ann: None,
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
            index_type: TsKeywordType(
                TsKeywordType {
                    span: Span {
                        lo: BytePos(
                            765,
                        ),
                        hi: BytePos(
                            769,
                        ),
                        ctxt: #0,
                    },
                    kind: TsStringKeyword,
                },
            ),
        },
    ),
    cause: [
        UnionError {
            span: Span {
                lo: BytePos(
                    191,
                ),
                hi: BytePos(
                    206,
                ),
                ctxt: #0,
            },
            errors: [
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    765,
                                ),
                                hi: BytePos(
                                    769,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeRef(
                                TsTypeRef {
                                    span: Span {
                                        lo: BytePos(
                                            648,
                                        ),
                                        hi: BytePos(
                                            650,
                                        ),
                                        ctxt: #0,
                                    },
                                    type_name: Ident(
                                        Ident {
                                            span: Span {
                                                lo: BytePos(
                                                    648,
                                                ),
                                                hi: BytePos(
                                                    650,
                                                ),
                                                ctxt: #0,
                                            },
                                            sym: Atom('C1' type=inline),
                                            type_ann: None,
                                            optional: false,
                                        },
                                    ),
                                    type_params: None,
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            765,
                                        ),
                                        hi: BytePos(
                                            769,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    765,
                                ),
                                hi: BytePos(
                                    769,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeRef(
                                TsTypeRef {
                                    span: Span {
                                        lo: BytePos(
                                            648,
                                        ),
                                        hi: BytePos(
                                            650,
                                        ),
                                        ctxt: #0,
                                    },
                                    type_name: Ident(
                                        Ident {
                                            span: Span {
                                                lo: BytePos(
                                                    648,
                                                ),
                                                hi: BytePos(
                                                    650,
                                                ),
                                                ctxt: #0,
                                            },
                                            sym: Atom('C1' type=inline),
                                            type_ann: None,
                                            optional: false,
                                        },
                                    ),
                                    type_params: None,
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            765,
                                        ),
                                        hi: BytePos(
                                            769,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
            ],
        },
    ],
}
  --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:7:15
   |
7  |   var strOrNum: string | number;
   |  _______________^
8  | | class C1 {
9  | |     private pp1: string | number;
10 | |     pp2: string | number;
...  |
22 | | strOrNum = typeof c1.pp2 === "string" && c1.pp2; // string | number
23 | | strOrNum = typeof c1.pp3 === "string" && c1.pp3; // string | number
   | |_______________________________________________^

error: ShouldIncludeUndefinedType {
    span: Span {
        lo: BytePos(
            795,
        ),
        hi: BytePos(
            799,
        ),
        ctxt: #0,
    },
}
  --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:24:5
   |
24 | var obj1: {
   |     ^^^^

error: AssignFailed {
    left: TsUnionOrIntersectionType(
        TsUnionType(
            TsUnionType {
                span: Span {
                    lo: BytePos(
                        191,
                    ),
                    hi: BytePos(
                        206,
                    ),
                    ctxt: #0,
                },
                types: [
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                ],
            },
        ),
    ),
    right: TsIndexedAccessType(
        TsIndexedAccessType {
            span: Span {
                lo: BytePos(
                    878,
                ),
                hi: BytePos(
                    880,
                ),
                ctxt: #0,
            },
            obj_type: TsTypeLit(
                TsTypeLit {
                    span: Span {
                        lo: BytePos(
                            801,
                        ),
                        hi: BytePos(
                            830,
                        ),
                        ctxt: #0,
                    },
                    members: [
                        TsPropertySignature(
                            TsPropertySignature {
                                span: Span {
                                    lo: BytePos(
                                        808,
                                    ),
                                    hi: BytePos(
                                        827,
                                    ),
                                    ctxt: #0,
                                },
                                readonly: false,
                                key: Ident(
                                    Ident {
                                        span: Span {
                                            lo: BytePos(
                                                808,
                                            ),
                                            hi: BytePos(
                                                809,
                                            ),
                                            ctxt: #0,
                                        },
                                        sym: Atom('x' type=inline),
                                        type_ann: None,
                                        optional: false,
                                    },
                                ),
                                computed: false,
                                optional: false,
                                init: None,
                                params: [],
                                type_ann: Some(
                                    TsTypeAnn {
                                        span: Span {
                                            lo: BytePos(
                                                809,
                                            ),
                                            hi: BytePos(
                                                826,
                                            ),
                                            ctxt: #0,
                                        },
                                        type_ann: TsUnionOrIntersectionType(
                                            TsUnionType(
                                                TsUnionType {
                                                    span: Span {
                                                        lo: BytePos(
                                                            811,
                                                        ),
                                                        hi: BytePos(
                                                            826,
                                                        ),
                                                        ctxt: #0,
                                                    },
                                                    types: [
                                                        TsKeywordType(
                                                            TsKeywordType {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        811,
                                                                    ),
                                                                    hi: BytePos(
                                                                        817,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                kind: TsStringKeyword,
                                                            },
                                                        ),
                                                        TsKeywordType(
                                                            TsKeywordType {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        820,
                                                                    ),
                                                                    hi: BytePos(
                                                                        826,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                kind: TsNumberKeyword,
                                                            },
                                                        ),
                                                    ],
                                                },
                                            ),
                                        ),
                                    },
                                ),
                                type_params: None,
                            },
                        ),
                    ],
                },
            ),
            index_type: TsKeywordType(
                TsKeywordType {
                    span: Span {
                        lo: BytePos(
                            878,
                        ),
                        hi: BytePos(
                            880,
                        ),
                        ctxt: #0,
                    },
                    kind: TsStringKeyword,
                },
            ),
        },
    ),
    cause: [
        UnionError {
            span: Span {
                lo: BytePos(
                    191,
                ),
                hi: BytePos(
                    206,
                ),
                ctxt: #0,
            },
            errors: [
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    191,
                                ),
                                hi: BytePos(
                                    197,
                                ),
                                ctxt: #0,
                            },
                            kind: TsStringKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    878,
                                ),
                                hi: BytePos(
                                    880,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeLit(
                                TsTypeLit {
                                    span: Span {
                                        lo: BytePos(
                                            801,
                                        ),
                                        hi: BytePos(
                                            830,
                                        ),
                                        ctxt: #0,
                                    },
                                    members: [
                                        TsPropertySignature(
                                            TsPropertySignature {
                                                span: Span {
                                                    lo: BytePos(
                                                        808,
                                                    ),
                                                    hi: BytePos(
                                                        827,
                                                    ),
                                                    ctxt: #0,
                                                },
                                                readonly: false,
                                                key: Ident(
                                                    Ident {
                                                        span: Span {
                                                            lo: BytePos(
                                                                808,
                                                            ),
                                                            hi: BytePos(
                                                                809,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        sym: Atom('x' type=inline),
                                                        type_ann: None,
                                                        optional: false,
                                                    },
                                                ),
                                                computed: false,
                                                optional: false,
                                                init: None,
                                                params: [],
                                                type_ann: Some(
                                                    TsTypeAnn {
                                                        span: Span {
                                                            lo: BytePos(
                                                                809,
                                                            ),
                                                            hi: BytePos(
                                                                826,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        type_ann: TsUnionOrIntersectionType(
                                                            TsUnionType(
                                                                TsUnionType {
                                                                    span: Span {
                                                                        lo: BytePos(
                                                                            811,
                                                                        ),
                                                                        hi: BytePos(
                                                                            826,
                                                                        ),
                                                                        ctxt: #0,
                                                                    },
                                                                    types: [
                                                                        TsKeywordType(
                                                                            TsKeywordType {
                                                                                span: Span {
                                                                                    lo: BytePos(
                                                                                        811,
                                                                                    ),
                                                                                    hi: BytePos(
                                                                                        817,
                                                                                    ),
                                                                                    ctxt: #0,
                                                                                },
                                                                                kind: TsStringKeyword,
                                                                            },
                                                                        ),
                                                                        TsKeywordType(
                                                                            TsKeywordType {
                                                                                span: Span {
                                                                                    lo: BytePos(
                                                                                        820,
                                                                                    ),
                                                                                    hi: BytePos(
                                                                                        826,
                                                                                    ),
                                                                                    ctxt: #0,
                                                                                },
                                                                                kind: TsNumberKeyword,
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                                type_params: None,
                                            },
                                        ),
                                    ],
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            878,
                                        ),
                                        hi: BytePos(
                                            880,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
                AssignFailed {
                    left: TsKeywordType(
                        TsKeywordType {
                            span: Span {
                                lo: BytePos(
                                    200,
                                ),
                                hi: BytePos(
                                    206,
                                ),
                                ctxt: #0,
                            },
                            kind: TsNumberKeyword,
                        },
                    ),
                    right: TsIndexedAccessType(
                        TsIndexedAccessType {
                            span: Span {
                                lo: BytePos(
                                    878,
                                ),
                                hi: BytePos(
                                    880,
                                ),
                                ctxt: #0,
                            },
                            obj_type: TsTypeLit(
                                TsTypeLit {
                                    span: Span {
                                        lo: BytePos(
                                            801,
                                        ),
                                        hi: BytePos(
                                            830,
                                        ),
                                        ctxt: #0,
                                    },
                                    members: [
                                        TsPropertySignature(
                                            TsPropertySignature {
                                                span: Span {
                                                    lo: BytePos(
                                                        808,
                                                    ),
                                                    hi: BytePos(
                                                        827,
                                                    ),
                                                    ctxt: #0,
                                                },
                                                readonly: false,
                                                key: Ident(
                                                    Ident {
                                                        span: Span {
                                                            lo: BytePos(
                                                                808,
                                                            ),
                                                            hi: BytePos(
                                                                809,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        sym: Atom('x' type=inline),
                                                        type_ann: None,
                                                        optional: false,
                                                    },
                                                ),
                                                computed: false,
                                                optional: false,
                                                init: None,
                                                params: [],
                                                type_ann: Some(
                                                    TsTypeAnn {
                                                        span: Span {
                                                            lo: BytePos(
                                                                809,
                                                            ),
                                                            hi: BytePos(
                                                                826,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        type_ann: TsUnionOrIntersectionType(
                                                            TsUnionType(
                                                                TsUnionType {
                                                                    span: Span {
                                                                        lo: BytePos(
                                                                            811,
                                                                        ),
                                                                        hi: BytePos(
                                                                            826,
                                                                        ),
                                                                        ctxt: #0,
                                                                    },
                                                                    types: [
                                                                        TsKeywordType(
                                                                            TsKeywordType {
                                                                                span: Span {
                                                                                    lo: BytePos(
                                                                                        811,
                                                                                    ),
                                                                                    hi: BytePos(
                                                                                        817,
                                                                                    ),
                                                                                    ctxt: #0,
                                                                                },
                                                                                kind: TsStringKeyword,
                                                                            },
                                                                        ),
                                                                        TsKeywordType(
                                                                            TsKeywordType {
                                                                                span: Span {
                                                                                    lo: BytePos(
                                                                                        820,
                                                                                    ),
                                                                                    hi: BytePos(
                                                                                        826,
                                                                                    ),
                                                                                    ctxt: #0,
                                                                                },
                                                                                kind: TsNumberKeyword,
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                                type_params: None,
                                            },
                                        ),
                                    ],
                                },
                            ),
                            index_type: TsKeywordType(
                                TsKeywordType {
                                    span: Span {
                                        lo: BytePos(
                                            878,
                                        ),
                                        hi: BytePos(
                                            880,
                                        ),
                                        ctxt: #0,
                                    },
                                    kind: TsStringKeyword,
                                },
                            ),
                        },
                    ),
                    cause: [],
                },
            ],
        },
    ],
}
  --> $DIR/tests/conformance/expressions/typeGuards/typeGuardsInProperties.ts:7:15
   |
7  |   var strOrNum: string | number;
   |  _______________^
8  | | class C1 {
9  | |     private pp1: string | number;
10 | |     pp2: string | number;
...  |
26 | | };
27 | | strOrNum = typeof obj1.x === "string" && obj1.x;  // string | number
   | |_______________________________________________^

